{"ast":null,"code":"import _toConsumableArray from\"/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef,useEffect,useContext}from'react';import MyContext from'../../context/MyContext.js';import TopUsers from'./TopUsers.jsx';import'./Learn.css';import uploadingVid from'../../assets/uploading_bar.mp4';import notFound from'../../assets/404pagenotfound.mp4';import updateUserData from'../../helpers/updateUserData';import fetchMyVideos,{fetchMyQuiz}from'../../helpers/fetchMyVideos.js';import logo from'../../assets/dcilogo.png';import fish from'../../assets/fish.png';import logo2 from'../../assets/logo2.png';import logo3 from'../../assets/annelogo.jpeg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Learn=function Learn(){var _useContext=useContext(MyContext),setLandingModal=_useContext.setLandingModal,justEarnedPoints=_useContext.justEarnedPoints,setJustEarnedPoints=_useContext.setJustEarnedPoints,setPointsPopup=_useContext.setPointsPopup,payload=_useContext.payload;var userDataID=payload.dataID;var initialPositions={favorites:90,workOnIt:93.3,quiz:96.6};var expandedPositions={favorites:0,workOnIt:3,quiz:6};var _useState=useState({favorites:[],workOnIt:[],points:0,dataID:null}),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(initialPositions),_useState4=_slicedToArray(_useState3,2),modalsPosition=_useState4[0],setModalsPosition=_useState4[1];var _useState5=useState({title:'Loading...',data:uploadingVid,videoID:null}),_useState6=_slicedToArray(_useState5,2),videoData=_useState6[0],setVideoData=_useState6[1];var _useState7=useState({favorites:[],workOnIt:[]}),_useState8=_slicedToArray(_useState7,2),chosenVideosData=_useState8[0],setChosenVideosData=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),selectSearch=_useState10[0],setSelectSearch=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),submitted=_useState12[0],setSubmitted=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),isLiked=_useState14[0],setIsLiked=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),toWorkOnIt=_useState16[0],setToWorkOnIt=_useState16[1];var _useState17=useState({level:0,levelName:'NOVICE'}),_useState18=_slicedToArray(_useState17,2),level=_useState18[0],setLevel=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),topUsersIsOpen=_useState20[0],setTopUsersIsOpen=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),quizVideo=_useState22[0],setQuizVideo=_useState22[1];var favoritesRef=useRef();var workOnItRef=useRef();var quizRef=useRef();var heartRef=useRef();var workOnVideoRef=useRef();var favVidRef=useRef();var workVidRef=useRef();var quizVidRef=useRef();var levelBarRef=useRef();var topRef=useRef();var levelName=['NOVICE','LEARNING NOVICE','BEGINNER','PROGRESSING BEGINNER','ENTERING INTERMEDIATE','ALMOST INTERMEDIATE','INTERMEDIATE','PROGRESSING INTERMEDIATE','GAINING ADVANCED','ADVANCED','PROGRESSING ADVANCED','PROFESSIONAL','EXPERT','MASTER','MAESTRO','THE SUPER USER','THE KING OF THE APP'];useEffect(function(){if(heartRef.current&&userData.favorites.includes(videoData.videoID)){heartRef.current.style.color='#7f6ea6';heartRef.current.title=\"Remove like?\";}else if(heartRef.current){heartRef.current.style.color='white';heartRef.current.title=\"Add to favorites\";}},[userData.favorites,videoData.videoID]);useEffect(function(){if(workOnVideoRef.current&&userData.workOnIt.includes(videoData.videoID)){workOnVideoRef.current.style.color='#9168a1';workOnVideoRef.current.title=\"Remove icon?\";}else if(workOnVideoRef.current){workOnVideoRef.current.style.color='white';workOnVideoRef.current.title=\"Work on it later\";}},[userData.workOnIt,videoData.videoID]);var favList=function favList(){return chosenVideosData.favorites.map(function(vidData,i){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"img-container\",children:/*#__PURE__*/_jsx(\"video\",{src:vidData.data,type:\"video/mp4\",onPlay:function onPlay(){return addPoints(level.level);},onPause:function onPause(){return addPoints(level.level);},controls:true,loop:true,children:\"Your browser does not support the video tag.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"fav-title\",children:vidData.title.toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fav-delete\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash-o del\",title:\"Remove this video from favorites\",onClick:function onClick(e){setIsLiked(!isLiked);removeVid('favorites',vidData._id);fetchMyVideos(setChosenVideosData,_objectSpread(_objectSpread({},userData),{},{favorites:userData.favorites.filter(function(id){return id!==vidData._id;})}),chosenVideosData,'favorites');},style:{cursor:'pointer',color:'#404756'}}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-up del\",title:\"Remove this video from favorites\",onClick:function onClick(e){setIsLiked(!isLiked);removeVid('favorites',vidData._id);fetchMyVideos(setChosenVideosData,_objectSpread(_objectSpread({},userData),{},{favorites:userData.favorites.filter(function(id){return id!==vidData._id;})}),chosenVideosData,'favorites');},style:{cursor:'pointer',color:'#404756'}})]})]},'fav_'+i);});};var workOnItList=function workOnItList(){return chosenVideosData.workOnIt.map(function(vidData,i){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"img-container\",children:/*#__PURE__*/_jsx(\"video\",{src:vidData.data,type:\"video/mp4\",onPlay:function onPlay(){return addPoints(level.level);},onPause:function onPause(){return addPoints(level.level);},controls:true,loop:true,children:\"Your browser does not support the video tag.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"fav-title\",children:vidData.title.toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fav-delete\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash-o del\",title:\"Remove this video from workOnIt\",onClick:function onClick(e){removeVid('workOnIt',vidData._id);fetchMyVideos(setChosenVideosData,_objectSpread(_objectSpread({},userData),{},{workOnIt:userData.workOnIt.filter(function(id){return id!==vidData._id;})}),chosenVideosData,'workOnIt');},style:{cursor:'pointer',color:'#404756'}}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-up del\",title:\"Remove this video from workOnIt\",onClick:function onClick(e){removeVid('workOnIt',vidData._id);fetchMyVideos(setChosenVideosData,_objectSpread(_objectSpread({},userData),{},{workOnIt:userData.workOnIt.filter(function(id){return id!==vidData._id;})}),chosenVideosData,'workOnIt');},style:{cursor:'pointer',color:'#404756'}})]})]},'work_'+i);});};function getLevel(n){//based on Fibonacci sequence\nif(n<=3){return{level:0,levelName:'NOVICE'};}var a=0,b=1,c=1,level=-4;while(c<n){c=a+b;a=b;b=c;level++;}return{level:level,levelName:levelName[Math.floor(level/5)]};};var addPoints=function addPoints(points){if(points<=0)points=1;updateUserData(_objectSpread(_objectSpread({},userData),{},{points:userData.points+points}));setUserData(_objectSpread(_objectSpread({},userData),{},{points:userData.points+points}));setJustEarnedPoints(justEarnedPoints+points);};var removeVid=function removeVid(property,videoID){userData.points+=2;var removeID=userData[property].filter(function(id){return id!==videoID;});updateUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},property,removeID)),property);setUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},property,removeID)));};var workOnVideo=function workOnVideo(){var property='workOnIt';if(userData.dataID&&videoData.videoID){if(!toWorkOnIt){userData.workOnIt.push(videoData.videoID);userData.points+=Math.floor(level.level*1.5);setJustEarnedPoints(justEarnedPoints+Math.floor(level.level*1.5));updateUserData(userData,property);setUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},property,_toConsumableArray(userData[property]))));}else{removeVid(property,videoData.videoID);}setToWorkOnIt(!toWorkOnIt);workOnVideoRef.current.classList.add(\"shake\");setTimeout(function(){(workOnVideoRef===null||workOnVideoRef===void 0?void 0:workOnVideoRef.current)&&workOnVideoRef.current.classList.remove(\"shake\");},1000);}};var likeVideo=function likeVideo(){var property='favorites';if(userData.dataID&&videoData.videoID){if(!isLiked){userData.favorites.push(videoData.videoID);userData.points+=Math.floor(level.level*1.75);setJustEarnedPoints(justEarnedPoints+Math.floor(level.level*1.75));updateUserData(userData,property);setUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},property,_toConsumableArray(userData[property]))));}else{removeVid(property,videoData.videoID);}heartRef.current.style.top='-4500%';heartRef.current.style.transform=\"rotate(1080deg)\";heartRef.current.style.opacity='1';setIsLiked(!isLiked);}};//fibonacci based\nvar getFibonacciNumber=function getFibonacciNumber(level){if(level<2)return{previous:1,next:1};var a=0,b=1,c;for(var i=2;i<=level;i++){c=a+b;a=b;b=c;}return{previous:a,next:c};};var quizAnswer=function quizAnswer(e){if(e.target.innerText===quizVideo.title){var points=level.level<15?getFibonacciNumber(level.level).next:level.level<40?getFibonacciNumber(level.level).previous:getFibonacciNumber(level.level).next-getFibonacciNumber(level.level).previous;addPoints(points);var earnedQuizPoints=function earnedQuizPoints(){return\"\\n For this answer you are receiving \".concat(points,\" points!\");};alert(Math.round(Math.random())?\"Correct answer! \".concat(earnedQuizPoints()):\"Well done!\".concat(earnedQuizPoints()));fetchMyQuiz(setQuizVideo,level.level);}else{alert(Math.round(Math.random())?\"Try again!\":Math.round(Math.random())?\"Better next time!\":\"Almost...\");fetchMyQuiz(setQuizVideo,level.level);}setQuizVideo(null);};useEffect(function(){var resetHeart;if(heartRef.current){resetHeart=setTimeout(function(){heartRef.current.style.top='0';heartRef.current.style.transform=\"initial\";},1000);}return function(){resetHeart&&clearTimeout(resetHeart);};},[isLiked]);var onChangeHandler=function onChangeHandler(e){if(e.target.value){fetch('https://wave2me.herokuapp.com/searchVideos',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({input:e.target.value})}).then(function(res){return res.json();}).then(function(data){return setSelectSearch(data);}).catch(console.log);}};var submitHandler=function submitHandler(e){e.preventDefault();var input='';switch(e.target.tagName){case'FORM':input=e.target.firstChild.firstChild.value;input&&setVideoData({title:'Loading...',data:uploadingVid});break;case'SELECT':e.target.previousSibling.firstChild.value=e.target.value;return;case'I':input=e.target.parentElement.previousSibling.value;input&&setVideoData({title:'Loading...',data:uploadingVid});break;default:return;}fetch('https://wave2me.herokuapp.com/searchVideo',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({input:input})}).then(function(res){return res.json();}).then(function(video){if(video){setVideoData({title:video.title,data:video.data,videoID:video._id});setIsLiked(userData.favorites.includes(video._id));setToWorkOnIt(userData.workOnIt.includes(video._id));setSubmitted(true);}else{setVideoData({title:'Video not found.',data:notFound,videoID:null});}}).catch(console.log);};useEffect(function(){favoritesRef.current.style.left=modalsPosition.favorites+'%';workOnItRef.current.style.left=modalsPosition.workOnIt+'%';quizRef.current.style.left=modalsPosition.quiz+'%';if(modalsPosition.favorites>=90){favoritesRef.current.style.height='0';}else{favoritesRef.current.style.height='100vh';}if(modalsPosition.workOnIt>=90){workOnItRef.current.style.height='0';}else{workOnItRef.current.style.height='100vh';}if(modalsPosition.quiz>=90){quizRef.current.style.height='0';}else{quizRef.current.style.height='100vh';}},[modalsPosition]);useEffect(function(){var fetchOptions={method:'POST',headers:{'Content-Type':'application/json',token:localStorage.getItem('W2M-JWT-Token')},body:JSON.stringify({dataID:userDataID})};fetch('https://wave2me.herokuapp.com/get-user-data',fetchOptions).then(function(res){return res.json();}).then(function(data){data.token_error||!localStorage.getItem('W2M-JWT-Token')?setLandingModal(true):data.data_error?console.log(data):setUserData(data);}).catch(function(err){return console.log('fetch error',err.message);});fetch('https://wave2me.herokuapp.com/video-of-the-day').then(function(res){return res.json();}).then(function(video){setVideoData({title:video.title,data:video.data,videoID:video._id});}).catch(console.log);setJustEarnedPoints(0);setPointsPopup(false);return function(){return setPointsPopup(true);};},[]);useEffect(function(){setLevel(getLevel(userData.points));var neededForNextLevelPoints=getFibonacciNumber(level.level+5).next-getFibonacciNumber(level.level+5).previous;var colectedLevelPoints=userData.points-getFibonacciNumber(level.level+5).previous;var barPercent=colectedLevelPoints/neededForNextLevelPoints*100;if(levelBarRef.current)levelBarRef.current.style.backgroundImage=\"linear-gradient(90deg, #33336C \".concat(barPercent-3,\"%, #e2f1ff \").concat(barPercent+3,\"%)\");},[userData.points,level.level]);var resizeModal=function resizeModal(modal_name){addPoints(level.level);if(modal_name==='favorites'&&modalsPosition[modal_name]>10){favVidRef.current.style.opacity=1;workVidRef.current.style.opacity=0;quizVidRef.current.style.opacity=0;}if(modal_name==='workOnIt'&&modalsPosition[modal_name]>10){favVidRef.current.style.opacity=.4;workVidRef.current.style.opacity=1;quizVidRef.current.style.opacity=0;}if(modal_name==='favorites'&&modalsPosition[modal_name]<10&&modalsPosition.workOnIt>10){favVidRef.current.style.opacity=0;workVidRef.current.style.opacity=0;quizVidRef.current.style.opacity=0;}if(modal_name==='favorites'&&modalsPosition[modal_name]<10&&modalsPosition.workOnIt<10){favVidRef.current.style.opacity=1;workVidRef.current.style.opacity=0;quizVidRef.current.style.opacity=0;}if(modal_name==='workOnIt'&&modalsPosition[modal_name]<10){favVidRef.current.style.opacity=1;workVidRef.current.style.opacity=1;quizVidRef.current.style.opacity=0;}if(modal_name==='quiz'&&modalsPosition[modal_name]<10){favVidRef.current.style.opacity=.4;workVidRef.current.style.opacity=1;quizVidRef.current.style.opacity=0;}if(modal_name==='quiz'&&modalsPosition[modal_name]>10){favVidRef.current.style.opacity=.4;workVidRef.current.style.opacity=.4;quizVidRef.current.style.opacity=1;}if(modal_name==='search'){favVidRef.current.style.opacity=0;workVidRef.current.style.opacity=0;quizVidRef.current.style.opacity=0;}if(modal_name==='quiz'&&modalsPosition[modal_name]>10)fetchMyQuiz(setQuizVideo,level.level);else{modal_name!=='quiz'&&modal_name!=='search'&&(modalsPosition[modal_name]>10||modalsPosition.workOnIt<10)&&fetchMyVideos(setChosenVideosData,userData,chosenVideosData,modal_name);}switch(modal_name){case'favorites':modalsPosition.workOnIt>10?setModalsPosition(function(prev){return prev=modalsPosition[modal_name]<10?initialPositions:_objectSpread(_objectSpread({},initialPositions),{},_defineProperty({},modal_name,expandedPositions.favorites));}):setModalsPosition(_objectSpread(_objectSpread({},initialPositions),{},_defineProperty({},modal_name,expandedPositions.favorites)));break;case'workOnIt':modalsPosition.quiz>10?setModalsPosition(function(prev){return prev=modalsPosition[modal_name]<10?_objectSpread(_objectSpread({},initialPositions),{},{'favorites':expandedPositions.favorites}):_objectSpread(_objectSpread({},expandedPositions),{},{'quiz':initialPositions.quiz});}):setModalsPosition(_objectSpread(_objectSpread({},expandedPositions),{},{'quiz':initialPositions.quiz}));break;case'quiz':setModalsPosition(function(prev){return prev=modalsPosition[modal_name]<10?_objectSpread(_objectSpread({},expandedPositions),{},_defineProperty({},modal_name,initialPositions.quiz)):expandedPositions;});break;case'search':setModalsPosition(initialPositions);break;default:return;}};var resizeTopUsersModal=function resizeTopUsersModal(){if(topRef.current){topRef.current.style.height='80vh';topRef.current.style.width='80vw';topRef.current.style.opacity='1';setTopUsersIsOpen(!topUsersIsOpen);}};if(!localStorage.getItem('W2M-JWT-Token'))setLandingModal(true);return/*#__PURE__*/_jsxs(\"div\",{id:\"learn-container\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"first-page\",children:[/*#__PURE__*/_jsxs(\"form\",{id:\"search-container\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{id:\"search-div\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:onChangeHandler,type:\"text\",name:\"search\",placeholder:\"Search sign videos here\",autoFocus:true}),/*#__PURE__*/_jsx(\"span\",{id:\"search-btn\",children:/*#__PURE__*/_jsx(\"i\",{id:\"search-vid-icon\",className:\"fas fa-search\",onClick:submitHandler})})]}),selectSearch.length>0&&/*#__PURE__*/_jsxs(\"select\",{style:{color:'black'},onChange:submitHandler,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\"}),selectSearch.map(function(video,i){return/*#__PURE__*/_jsx(\"option\",{style:{color:'black'},value:video.title,children:video.title},i);})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:/*#__PURE__*/_jsx(\"h2\",{children:submitted||videoData.title==='Video not found.'?videoData.title.toUpperCase():'Video of the day: '+videoData.title.toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"img-container\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"aside-box\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"flip\",src:logo,alt:\"dci\"}),/*#__PURE__*/_jsx(\"img\",{src:logo2,alt:\"fish\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ads\",children:\"Sponsors Ads\"})]}),/*#__PURE__*/_jsx(\"video\",{src:videoData.data,type:\"video/mp4\",onPlay:function onPlay(){return addPoints(level.level>15?level.level:0);},onPause:function onPause(){return addPoints(level.level>15?level.level:0);},controls:videoData.title==='Loading...'||videoData.title==='Video not found.'?false:true,autoPlay:true,loop:true,children:\"Your browser does not support the video tag.\"}),/*#__PURE__*/_jsxs(\"aside\",{className:\"aside-box\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo3,alt:\"anne\"}),/*#__PURE__*/_jsx(\"img\",{src:fish,alt:\"fish\"})]})]}),videoData.videoID&&/*#__PURE__*/_jsxs(\"div\",{id:\"video-likes\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-heart\",style:{position:'relative'},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-heart video-icon\",ref:heartRef,onClick:likeVideo})}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-business-time\",style:{position:'relative'},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-business-time video-icon\",ref:workOnVideoRef,onClick:workOnVideo})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"level-container\",title:\"Click to see Top Users\",onClick:resizeTopUsersModal,children:[/*#__PURE__*/_jsxs(\"div\",{id:\"level-indicator\",children:[\"Level: \",level.level,\" \",level.levelName]}),/*#__PURE__*/_jsx(\"div\",{id:\"level-bar\",ref:levelBarRef})]}),/*#__PURE__*/_jsx(TopUsers,{topRef:topRef,topUsersIsOpen:topUsersIsOpen,getLevel:getLevel})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"favorites-modal\",ref:favoritesRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"dummy-margin-top\",style:{height:'15px',cursor:'pointer'},onClick:function onClick(e){return resizeModal('search');},children:modalsPosition.workOnIt<90&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-right\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-icons\",onClick:function onClick(e){return resizeModal('favorites');},children:[modalsPosition.favorites>10?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-left\"}):modalsPosition.workOnIt>10?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-right\"}):/*#__PURE__*/_jsx(\"span\",{style:{marginRight:'1%'}}),'    ',\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-heart\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"videos-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"videos-container\",ref:favVidRef,children:favList()})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"work-on-it-modal\",ref:workOnItRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"dummy-margin-top\",style:{height:'15px'}}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(e){return resizeModal('workOnIt');},className:\"modal-icons\",children:[modalsPosition.workOnIt>10?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-left\"}):modalsPosition.quiz>10?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-right\"}):/*#__PURE__*/_jsx(\"span\",{style:{marginRight:'1%'}}),'    ',/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-business-time\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"videos-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"videos-container\",ref:workVidRef,children:workOnItList()})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"quiz-modal\",ref:quizRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"dummy-margin-top\",style:{height:'15px'}}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(e){return resizeModal('quiz');},className:\"modal-icons\",children:[modalsPosition.quiz>10?/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-left\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-right\"}),'    ',/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-play-circle-o\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"videos-wrapper\",style:{opacity:'0'},ref:quizVidRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:/*#__PURE__*/_jsx(\"h2\",{children:quizVideo?'Select the correct answer':'Loading...'})}),/*#__PURE__*/_jsx(\"div\",{className:\"img-container\",children:/*#__PURE__*/_jsx(\"video\",{src:quizVideo?quizVideo.data:null,type:\"video/mp4\",autoPlay:true,loop:true,children:\"Your browser does not support the video tag.\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"quiz-answers\",children:quizVideo&&quizVideo.randomizedTitles.map(function(answer,i){return/*#__PURE__*/_jsx(\"button\",{onClick:quizAnswer,disabled:false,children:answer.title},\"qz_\".concat(i));})})]})]})]});};export default Learn;","map":{"version":3,"names":["useState","useRef","useEffect","useContext","MyContext","TopUsers","uploadingVid","notFound","updateUserData","fetchMyVideos","fetchMyQuiz","logo","fish","logo2","logo3","Learn","setLandingModal","justEarnedPoints","setJustEarnedPoints","setPointsPopup","payload","userDataID","dataID","initialPositions","favorites","workOnIt","quiz","expandedPositions","points","userData","setUserData","modalsPosition","setModalsPosition","title","data","videoID","videoData","setVideoData","chosenVideosData","setChosenVideosData","selectSearch","setSelectSearch","submitted","setSubmitted","isLiked","setIsLiked","toWorkOnIt","setToWorkOnIt","level","levelName","setLevel","topUsersIsOpen","setTopUsersIsOpen","quizVideo","setQuizVideo","favoritesRef","workOnItRef","quizRef","heartRef","workOnVideoRef","favVidRef","workVidRef","quizVidRef","levelBarRef","topRef","current","includes","style","color","favList","map","vidData","i","addPoints","toUpperCase","e","removeVid","_id","filter","id","cursor","workOnItList","getLevel","n","a","b","c","Math","floor","property","removeID","workOnVideo","push","classList","add","setTimeout","remove","likeVideo","top","transform","opacity","getFibonacciNumber","previous","next","quizAnswer","target","innerText","earnedQuizPoints","alert","round","random","resetHeart","clearTimeout","onChangeHandler","value","fetch","method","headers","body","JSON","stringify","input","then","res","json","catch","console","log","submitHandler","preventDefault","tagName","firstChild","previousSibling","parentElement","video","left","height","fetchOptions","token","localStorage","getItem","token_error","data_error","err","message","neededForNextLevelPoints","colectedLevelPoints","barPercent","backgroundImage","resizeModal","modal_name","prev","resizeTopUsersModal","width","length","position","marginRight","randomizedTitles","answer"],"sources":["/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/src/components/Learn/Learn.jsx"],"sourcesContent":["import { useState, useRef, useEffect, useContext } from 'react';\nimport MyContext from '../../context/MyContext.js';\nimport TopUsers from './TopUsers.jsx';\nimport './Learn.css';\nimport uploadingVid from '../../assets/uploading_bar.mp4';\nimport notFound from '../../assets/404pagenotfound.mp4';\nimport updateUserData from '../../helpers/updateUserData';\nimport fetchMyVideos, { fetchMyQuiz } from '../../helpers/fetchMyVideos.js';\nimport logo from '../../assets/dcilogo.png'\nimport fish from '../../assets/fish.png'\nimport logo2 from '../../assets/logo2.png'\nimport logo3 from '../../assets/annelogo.jpeg'\n\n\nconst Learn = () => {\n\n  const {setLandingModal,justEarnedPoints ,setJustEarnedPoints, setPointsPopup, payload} = useContext(MyContext);\n  const userDataID = payload.dataID;\n  const initialPositions = {favorites: 90, workOnIt: 93.3, quiz: 96.6};\n  const expandedPositions = {favorites: 0, workOnIt: 3, quiz: 6};\n \n  const [userData, setUserData] = useState({favorites: [], workOnIt: [], points: 0, dataID: null});\n  const [modalsPosition, setModalsPosition] = useState(initialPositions);\n  const [videoData, setVideoData] = useState({title: 'Loading...', data: uploadingVid, videoID: null});  \n  const [chosenVideosData, setChosenVideosData] = useState({favorites:[], workOnIt: []});\n  const [selectSearch, setSelectSearch] = useState('');  \n  const [submitted, setSubmitted] = useState(false);\n  const [isLiked, setIsLiked] = useState();  \n  const [toWorkOnIt, setToWorkOnIt] = useState();\n  const [level, setLevel] = useState({level: 0, levelName: 'NOVICE'});\n  const [topUsersIsOpen, setTopUsersIsOpen] = useState(false);\n  const [quizVideo, setQuizVideo] = useState(null);\n\n  const favoritesRef = useRef();\n  const workOnItRef = useRef();\n  const quizRef = useRef();\n  const heartRef = useRef();\n  const workOnVideoRef = useRef();\n  const favVidRef = useRef();\n  const workVidRef = useRef();\n  const quizVidRef = useRef();\n  const levelBarRef = useRef();\n  const topRef = useRef();\n\n  const levelName = ['NOVICE',\n                     'LEARNING NOVICE', \n                     'BEGINNER',\n                     'PROGRESSING BEGINNER',\n                     'ENTERING INTERMEDIATE',\n                     'ALMOST INTERMEDIATE',\n                     'INTERMEDIATE',\n                     'PROGRESSING INTERMEDIATE',\n                     'GAINING ADVANCED',\n                     'ADVANCED',\n                     'PROGRESSING ADVANCED',\n                     'PROFESSIONAL',\n                     'EXPERT',\n                     'MASTER',\n                     'MAESTRO',\n                     'THE SUPER USER',\n                     'THE KING OF THE APP'];\n\n  useEffect(()=>{\n    if(heartRef.current && userData.favorites.includes(videoData.videoID)) {\n      heartRef.current.style.color='#7f6ea6';\n      heartRef.current.title=\"Remove like?\";}\n    else if(heartRef.current) {\n      heartRef.current.style.color='white';\n      heartRef.current.title=\"Add to favorites\";\n    }\n  },[userData.favorites,videoData.videoID]);\n  \n  useEffect(()=>{\n    if(workOnVideoRef.current && userData.workOnIt.includes(videoData.videoID)) {\n      workOnVideoRef.current.style.color='#9168a1';\n      workOnVideoRef.current.title=\"Remove icon?\";}\n    else if(workOnVideoRef.current) {\n      workOnVideoRef.current.style.color='white';\n      workOnVideoRef.current.title=\"Work on it later\"}\n  },[userData.workOnIt,videoData.videoID]);\n\n\n  const favList = () => {\n\n    return    chosenVideosData.favorites.map((vidData,i)=>\n                            <div key={'fav_'+i}>\n\n                              <div className=\"img-container\">\n                                        <video \n                                              src={vidData.data} \n                                              type=\"video/mp4\"\n                                              onPlay={()=>addPoints(level.level)} \n                                              onPause={()=>addPoints(level.level)}\n                                              controls \n                                              loop>\n                                  Your browser does not support the video tag.</video> \n                              </div>\n                              \n                              <div className=\"text\">\n                                <h5 className='fav-title'> \n                                  {vidData.title.toUpperCase()}\n                                </h5>\n                              </div>\n\n                              <div className=\"fav-delete\">\n                                <br />\n                                <i className=\"fa fa-trash-o del\" \n                                  title='Remove this video from favorites' \n                                  onClick={(e)=>{setIsLiked(!isLiked);\n                                    removeVid('favorites',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,favorites:userData.favorites.filter(id=>id!==vidData._id)},chosenVideosData,'favorites');\n                                                  }}\n                                  style={{cursor:'pointer', color: '#404756'}}></i>\n                                <i className=\"fa fa-arrow-up del\" \n                                  title='Remove this video from favorites' \n                                  onClick={(e)=>{setIsLiked(!isLiked);\n                                    removeVid('favorites',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,favorites:userData.favorites.filter(id=>id!==vidData._id)},chosenVideosData,'favorites');\n                                                  }}\n                                  style={{cursor:'pointer', \tcolor: '#404756'}}></i>\n                              </div> \n\n                            </div>) ;\n  }\n\n  const workOnItList = () => {\n\n    return    chosenVideosData.workOnIt.map((vidData,i)=>\n                            <div key={'work_'+i}>\n\n                              <div className=\"img-container\">\n                                        <video \n                                              src={vidData.data} \n                                              type=\"video/mp4\"\n                                              onPlay={()=>addPoints(level.level)} \n                                              onPause={()=>addPoints(level.level)}\n                                              controls \n                                              loop>\n                                  Your browser does not support the video tag.</video> \n                              </div>\n                              \n                              <div className=\"text\">\n                                <h5 className='fav-title'> \n                                  {vidData.title.toUpperCase()}\n                                </h5>\n                              </div>\n\n                              <div className=\"fav-delete\">\n                                <i className=\"fa fa-trash-o del\" \n                                  title='Remove this video from workOnIt' \n                                  onClick={(e)=>{\n                                    removeVid('workOnIt',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,workOnIt:userData.workOnIt.filter(id=>id!==vidData._id)},chosenVideosData,'workOnIt');\n                                                  }}\n                                  style={{cursor:'pointer', color: '#404756'}}></i>\n                                <i className=\"fa fa-arrow-up del\" \n                                  title='Remove this video from workOnIt' \n                                  onClick={(e)=>{\n                                    removeVid('workOnIt',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,workOnIt:userData.workOnIt.filter(id=>id!==vidData._id)},chosenVideosData,'workOnIt');\n                                                  }}\n                                  style={{cursor:'pointer', \tcolor: '#404756'}}></i>\n                              </div> \n\n                            </div>) ;\n  }\n\n  function getLevel (n) { //based on Fibonacci sequence\n\n    if (n <= 3) {\n      return {level:0, levelName: 'NOVICE'};\n    }\n     \n    let a = 0, b = 1, c = 1, level = -4;\n    \n    while (c < n) {\n      c = a + b;\n      a = b;\n      b = c;\n      level++;\n    }\n    \n    return {level, levelName: levelName[Math.floor(level/5)]};\n  };\n\n  const addPoints = (points) => {\n\n    if(points<=0) points=1;\n\n    updateUserData({...userData, points: userData.points+points});\n    setUserData({...userData, points: userData.points+points});\n    setJustEarnedPoints(justEarnedPoints+points);\n  }\n  \n  const removeVid = (property,videoID) => {\n        userData.points+=2;\n        const removeID = userData[property].filter(id=>id!==videoID);\n        updateUserData({...userData,[property]:removeID},property);\n        setUserData({...userData, [property]: removeID});\n  }\n  \n  const workOnVideo = () =>{\n    const property = 'workOnIt';\n    if(userData.dataID && videoData.videoID){\n      if(!toWorkOnIt){\n        userData.workOnIt.push(videoData.videoID);\n        userData.points+=Math.floor(level.level*1.5);\n        setJustEarnedPoints(justEarnedPoints+Math.floor(level.level*1.5))\n        updateUserData(userData,property);\n        setUserData({...userData,[property]:[...userData[property]]});\n      } else {\n        removeVid(property,videoData.videoID);\n      }\n      \n      setToWorkOnIt(!toWorkOnIt)\n      workOnVideoRef.current.classList.add(\"shake\");\n      setTimeout(()=>{ workOnVideoRef?.current && workOnVideoRef.current.classList.remove(\"shake\");},1000);\n    }\n  }\n\n  const likeVideo = () =>{\n    const property = 'favorites';\n\n    if(userData.dataID && videoData.videoID){\n      if(!isLiked){\n        userData.favorites.push(videoData.videoID);\n        userData.points+=Math.floor(level.level*1.75);\n        setJustEarnedPoints(justEarnedPoints+Math.floor(level.level*1.75))\n        updateUserData(userData,property);\n        setUserData({...userData,[property]:[...userData[property]]});\n      } else {\n        removeVid(property,videoData.videoID);\n      }\n      heartRef.current.style.top='-4500%';\n      heartRef.current.style.transform=\"rotate(1080deg)\";\n      heartRef.current.style.opacity='1';\n      setIsLiked(!isLiked);\n    }\n  }\n\n   //fibonacci based\n\n   const getFibonacciNumber = (level) => {\n\n    if(level<2) return {previous:1, next:1};\n          \n    let a = 0, b = 1, c;\n      \n    for(let i = 2; i <= level; i++) {\n          c = a + b;\n          a = b;\n          b = c;\n      }\n\n      return {previous: a, next: c}\n  }\n\n  const quizAnswer = (e) => {\n    \n    if(e.target.innerText===quizVideo.title) {\n      const points = level.level<15?getFibonacciNumber(level.level).next:\n                     level.level<40?getFibonacciNumber(level.level).previous:\n                     getFibonacciNumber(level.level).next-getFibonacciNumber(level.level).previous;\n      addPoints(points);\n      const earnedQuizPoints = () => {\n        return `\\n For this answer you are receiving ${points} points!`\n      }\n      alert(Math.round(Math.random())?`Correct answer! ${earnedQuizPoints()}`:`Well done!${earnedQuizPoints()}`);\n      fetchMyQuiz(setQuizVideo, level.level);\n    }\n    else {\n      alert(Math.round(Math.random())?`Try again!`:Math.round(Math.random())?`Better next time!`:`Almost...`);\n      fetchMyQuiz(setQuizVideo, level.level)}\n\n    setQuizVideo(null);\n  }\n\n  useEffect(()=> {\n\n    let resetHeart;\n    if(heartRef.current){\n    resetHeart = setTimeout(() => {\n      heartRef.current.style.top='0';\n      heartRef.current.style.transform=\"initial\";\n    }, 1000);}\n\n    return ()=>{resetHeart && clearTimeout(resetHeart)};\n\n  },[isLiked]);\n\n  const onChangeHandler = (e) => {\n\t  \n\t  if(e.target.value) {\n\t  \n\t\t  fetch('https://wave2me.herokuapp.com/searchVideos', {\n\t\t\t  method: 'POST',\n\t\t\t  headers: {'Content-Type':'application/json'},\n\t\t\t  body: JSON.stringify({ input: e.target.value })\n\t\t  })\n\t\t  .then(res=>res.json())\n\t\t  .then(data=>setSelectSearch(data))\n\t\t  .catch(console.log);\n\t  \n\t  }\n\t  \n  }\n  \n  const submitHandler = (e) => {\n\te.preventDefault();\n  let input = '';\n\t\n\tswitch(e.target.tagName) {\n\t\t\n\t\tcase 'FORM': input = e.target.firstChild.firstChild.value;\n\t\t             input && setVideoData({title: 'Loading...', data: uploadingVid});\n\t  break;\n\t\t\n\t\tcase 'SELECT': e.target.previousSibling.firstChild.value = e.target.value;\n\t\treturn;\n\t\t\n\t\tcase 'I': input = e.target.parentElement.previousSibling.value;\n\t\t          input && setVideoData({title: 'Loading...', data: uploadingVid});\n\t  break;\n\t\t\n\t\tdefault: return;\n\t}\n\t\n\tfetch('https://wave2me.herokuapp.com/searchVideo', {\n\t\t\t  method: 'POST',\n\t\t\t  headers: {'Content-Type':'application/json'},\n\t\t\t  body: JSON.stringify({ input })\n\t\t  })\n\t\t  .then(res=>res.json())\n  .then(video=>{\n\t\t\t\tif(video){\n        setVideoData({title:video.title,data:video.data, videoID: video._id});\n        setIsLiked(userData.favorites.includes(video._id));\n        setToWorkOnIt(userData.workOnIt.includes(video._id));\n\t\t\t\tsetSubmitted(true);\n          } else {setVideoData({title:'Video not found.',data:notFound, videoID: null});}\n\t\t\t\t})\n\t\t  .catch(console.log);\n\t\n  }\n\n  useEffect(()=>{\n    favoritesRef.current.style.left = modalsPosition.favorites+'%';\n    workOnItRef.current.style.left = modalsPosition.workOnIt+'%';\n    quizRef.current.style.left = modalsPosition.quiz+'%';\n\n    if(modalsPosition.favorites >= 90) {\n      favoritesRef.current.style.height = '0';\n      } else {\n        favoritesRef.current.style.height = '100vh';\n      }\n    \n    if(modalsPosition.workOnIt >= 90) {\n      workOnItRef.current.style.height = '0';\n      } else {\n        workOnItRef.current.style.height = '100vh';\n      }\n\n    if(modalsPosition.quiz >= 90) {\n      quizRef.current.style.height = '0';\n      } else {\n        quizRef.current.style.height = '100vh';\n      }\n\n  },[modalsPosition]);\n\n  useEffect(()=>{\n\n    const fetchOptions = {\n        method: 'POST',\n        headers: {\n            'Content-Type':'application/json',\n            token: localStorage.getItem('W2M-JWT-Token')\n        },\n        body: JSON.stringify({dataID: userDataID})\n    }\n\n    fetch('https://wave2me.herokuapp.com/get-user-data', fetchOptions)\n    .then(res=>res.json())\n    .then(data=>{ \n                data.token_error || !localStorage.getItem('W2M-JWT-Token') ? \n                setLandingModal(true) :\n                data.data_error ? console.log(data) : setUserData(data)})\n    .catch(err=>console.log('fetch error',err.message));\n\n\t  \n\tfetch('https://wave2me.herokuapp.com/video-of-the-day')\n\t.then(res=>res.json())\n\t.then(video=>{\n\t\t\tsetVideoData({title: video.title, data: video.data, videoID: video._id});\n\t\t})\n\t\t.catch(console.log);\n\n\n    setJustEarnedPoints(0);\n    setPointsPopup(false);\n\n\t  return ()=> setPointsPopup(true);\n\n  },[]);\n\n\n  useEffect(()=>{\n\n    setLevel(getLevel(userData.points)) ;\n\n    const neededForNextLevelPoints = getFibonacciNumber(level.level+5).next-getFibonacciNumber(level.level+5).previous; \n    const colectedLevelPoints = userData.points - getFibonacciNumber(level.level+5).previous;\n    const barPercent = (colectedLevelPoints/neededForNextLevelPoints)*100;\n\n    if(levelBarRef.current) \n    levelBarRef.current.style.backgroundImage=`linear-gradient(90deg, #33336C ${barPercent-3}%, #e2f1ff ${barPercent+3}%)`;\n\n  },[userData.points,level.level]);\n\n\n  const resizeModal = (modal_name) => {\n\n    addPoints(level.level);\n\n    if( modal_name==='favorites' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=0; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='workOnIt' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=1; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='favorites' && modalsPosition[modal_name]<10 && modalsPosition.workOnIt > 10) {\n      favVidRef.current.style.opacity=0; workVidRef.current.style.opacity=0; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='favorites' && modalsPosition[modal_name]<10 && modalsPosition.workOnIt < 10) {\n        favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=0; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='workOnIt' && modalsPosition[modal_name]<10 ) {\n      favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=1; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='quiz' && modalsPosition[modal_name]<10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=1; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='quiz' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=.4; quizVidRef.current.style.opacity=1;}\n    if(modal_name==='search'){\n      favVidRef.current.style.opacity=0; workVidRef.current.style.opacity=0; quizVidRef.current.style.opacity=0;\n    }\n    if(modal_name==='quiz' && modalsPosition[modal_name]>10) fetchMyQuiz(setQuizVideo,level.level);\n    else{\n    modal_name!=='quiz' && modal_name!=='search'&& (modalsPosition[modal_name]>10 || modalsPosition.workOnIt<10) && \n    fetchMyVideos(setChosenVideosData,userData,chosenVideosData,modal_name); }\n\n    switch(modal_name){\n\n      case 'favorites': modalsPosition.workOnIt > 10 ?\n                        setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? initialPositions : {...initialPositions, [modal_name]:expandedPositions.favorites}) :\n                        setModalsPosition({...initialPositions, [modal_name]:expandedPositions.favorites});\n      break;\n\n      case 'workOnIt': modalsPosition.quiz > 10 ? \n                       setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? {...initialPositions, 'favorites': expandedPositions.favorites} : {...expandedPositions, 'quiz':initialPositions.quiz}) :\n                       setModalsPosition({...expandedPositions, 'quiz':initialPositions.quiz});\n      break;\n\n      case 'quiz': setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? {...expandedPositions, [modal_name]:initialPositions.quiz} : expandedPositions);\n      break;\n\n      case 'search': setModalsPosition(initialPositions);\n      break;\n      default: return;\n    }\n  }\n\n  const resizeTopUsersModal = () => {\n    if(topRef.current) {\n        topRef.current.style.height = '80vh';\n        topRef.current.style.width = '80vw';\n        topRef.current.style.opacity = '1';\n        setTopUsersIsOpen(!topUsersIsOpen);\n    } \n}\n\n  if(!localStorage.getItem('W2M-JWT-Token')) setLandingModal(true);\n\n  return (\n    <div id=\"learn-container\">\n        <div id=\"first-page\">\n            <form id=\"search-container\" onSubmit={submitHandler}>\n              <div id='search-div'>\n                <input\n                onChange={onChangeHandler} \n                type='text'\n                name='search' \n                placeholder='Search sign videos here'\n                autoFocus={true} /> \n                <span id='search-btn'>\n                <i  id='search-vid-icon'\n                  className=\"fas fa-search\" \n                  onClick={submitHandler}>\n                </i>\n                </span>\n              </div>\n              {selectSearch.length>0 && <select style={{color:'black'}}  onChange={submitHandler}>\n                  <option value=''></option>\n                  {selectSearch.map((video,i)=><option key={i} style={{color:'black'}} value={video.title}>{video.title}</option>)}\n              </select>}\n            </form>\n\t\t\t\n            <div className=\"text\">\n              <h2> \n                {submitted || videoData.title==='Video not found.' ? videoData.title.toUpperCase() : 'Video of the day: ' +videoData.title.toUpperCase()}\n              </h2>\n            </div>\n                  \n            <div className=\"img-container\">\n                    <aside className='aside-box'>\n                      <img className='flip' src={logo} alt=\"dci\" />\n                      <img src={logo2} alt=\"fish\" />\n                      <div className='ads'>Sponsors Ads</div>\n                      </aside>\n                      <video \n                            src={videoData.data} \n                            type=\"video/mp4\"\n                            onPlay={()=>addPoints(level.level>15?level.level:0)} \n                            onPause={()=>addPoints(level.level>15?level.level:0)}\n                            controls={videoData.title==='Loading...' || videoData.title==='Video not found.'?false:true}\n                            autoPlay \n                            loop>\n                Your browser does not support the video tag.</video> \n                    <aside className='aside-box'>\n                    <img src={logo3} alt=\"anne\" />\n                    <img src={fish} alt=\"fish\" />\n                    </aside>\n            </div>\n            \n            {videoData.videoID &&\n            <div id=\"video-likes\">\n              <i className=\"fa fa-heart\" style={{position:'relative'}}>\n                <i className=\"fa fa-heart video-icon\" ref={heartRef} onClick={likeVideo}></i>\n              </i>\n              <i className='fas fa-business-time' style={{position:'relative'}}>\n                <i className='fas fa-business-time video-icon' ref={workOnVideoRef} onClick={workOnVideo}></i>\n              </i>\n            </div>}\n            <div id='level-container' title='Click to see Top Users' onClick={resizeTopUsersModal}>\n                <div id='level-indicator'>Level: {level.level} {level.levelName}</div>\n                <div id='level-bar' ref={levelBarRef}></div>\n            </div>\n          \n            <TopUsers topRef={topRef} topUsersIsOpen={topUsersIsOpen} getLevel={getLevel}/>\n\n        </div>\n        <div id=\"favorites-modal\" ref={favoritesRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px', cursor: 'pointer'}} onClick={(e)=>resizeModal('search')}>\n\t\t        {modalsPosition.workOnIt<90 && <><i className=\"fas fa-search\"></i><i className=\"fa fa-arrow-right\"></i></>}\n          </div>\n          <div className='modal-icons' onClick={(e)=>resizeModal('favorites')}>\n            {modalsPosition.favorites>10 ? \n            <i className=\"fa fa-arrow-left\"></i> : \n            modalsPosition.workOnIt>10 ? <i className=\"fa fa-arrow-right\"></i> : <span style={{marginRight: '1%'}}></span> }\n            {'    '} <i className=\"fa fa-heart\"></i>\n          </div>\n          <section className='videos-wrapper'>\n\n              <div className='videos-container' ref={favVidRef}>\n\n                {favList()}             \n\n              </div>\n\n          </section>\n        </div>\n        <div id=\"work-on-it-modal\" ref={workOnItRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px'}}></div>\n          <div onClick={(e)=>resizeModal('workOnIt')} className='modal-icons'>\n            {modalsPosition.workOnIt>10 ? <i className=\"fa fa-arrow-left\"></i> : \n            modalsPosition.quiz>10 ? <i className=\"fa fa-arrow-right\"></i> : < span style={{marginRight: '1%'}}></span>}\n            {'    '}<i className='fas fa-business-time'></i>\n          </div>\n          <section className='videos-wrapper'>\n\n              <div className='videos-container' ref={workVidRef}>\n\n                {workOnItList()}              \n\n              </div>\n\n          </section>\n        </div>\n        <div id=\"quiz-modal\" ref={quizRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px'}}></div>\n          <div onClick={(e)=>resizeModal('quiz')} className='modal-icons'>\n            {modalsPosition.quiz>10 ? <i className=\"fa fa-arrow-left\"></i> : <i className=\"fa fa-arrow-right\"></i>}\n            {'    '}<i className=\"fa fa-play-circle-o\"></i></div>\n          <section className='videos-wrapper' style={{opacity: '0'}} ref={quizVidRef}>\n\n          <div className=\"text\">\n              <h2> \n                {quizVideo?'Select the correct answer':'Loading...'}\n              </h2>\n            </div>\n                  \n            <div className=\"img-container\">\n                      <video \n                            src={quizVideo ? quizVideo.data : null} \n                            type=\"video/mp4\"\n                            autoPlay \n                            loop>\n                Your browser does not support the video tag.</video> \n            </div>\n            <div id='quiz-answers'>\n              {quizVideo && \n                quizVideo.randomizedTitles.map((answer,i)=><button \n                                                            key={`qz_${i}`} \n                                                            onClick={quizAnswer}\n                                                            disabled={false}>{answer.title}</button>)}\n            </div>\n              \n          </section>\n        </div>\n    </div>\n     )\n}\n\nexport default Learn;"],"mappings":"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"},"metadata":{},"sourceType":"module"}