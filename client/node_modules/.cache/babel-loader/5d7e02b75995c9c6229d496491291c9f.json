{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/src/components/Learn/Learn.jsx\",\n    _s = $RefreshSig$();\n\nimport './Learn.css';\nimport uploadingVid from '../../assets/uploading_bar.mp4';\nimport notFound from '../../assets/404pagenotfound.mp4';\nimport updateUserData from '../../helpers/updateUserData';\nimport { useState, useRef, useEffect, useContext } from 'react';\nimport MyContext from '../../context/MyContext.js';\nimport fetchMyVideos from '../../helpers/fetchMyVideos';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Learn = () => {\n  _s();\n\n  const {\n    setLandingModal,\n    payload\n  } = useContext(MyContext);\n  const userDataID = payload.dataID;\n  const initialPositions = {\n    favorites: 90,\n    workOnIt: 93.3,\n    another: 96.6\n  };\n  const expandedPositions = {\n    favorites: 0,\n    workOnIt: 3,\n    another: 6\n  };\n  const [userData, setUserData] = useState({\n    favorites: [],\n    workOnIt: [],\n    points: 0,\n    dataID: null\n  });\n  const [modalsPosition, setModalsPosition] = useState(initialPositions);\n  const [videoData, setVideoData] = useState({\n    title: 'Loading...',\n    data: uploadingVid,\n    videoID: null\n  });\n  const [chosenVideosData, setChosenVideosData] = useState({\n    favorites: [],\n    workOnIt: []\n  });\n  const [selectSearch, setSelectSearch] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);\n  const [toWorkOnIt, setToWorkOnIt] = useState(false);\n  const favoritesRef = useRef();\n  const workOnItRef = useRef();\n  const anotherRef = useRef();\n  const heartRef = useRef();\n  const workOnVideoRef = useRef();\n  const favVidRef = useRef();\n  const workVidRef = useRef();\n  const anotherVidRef = useRef();\n  useEffect(() => {\n    if (heartRef.current && userData.favorites.includes(videoData.videoID)) {\n      heartRef.current.style.color = '#7f6ea6';\n      heartRef.current.title = \"Remove like?\";\n    } else if (heartRef.current) {\n      heartRef.current.style.color = 'white';\n      heartRef.current.title = \"Add to favorites\";\n    }\n  }, [userData.favorites, videoData.videoID]);\n  useEffect(() => {\n    if (workOnVideoRef.current && userData.workOnIt.includes(videoData.videoID)) {\n      workOnVideoRef.current.style.color = '#9168a1';\n      workOnVideoRef.current.title = \"Remove icon?\";\n    } else if (workOnVideoRef.current) {\n      workOnVideoRef.current.style.color = 'white';\n      workOnVideoRef.current.title = \"Work on it later\";\n    }\n  }, [userData.workOnIt, videoData.videoID]);\n\n  const favList = () => {\n    return chosenVideosData.favorites.map((vidData, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-container\",\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          src: vidData.data,\n          type: \"video/mp4\",\n          onPlay: () => addPoints(2),\n          onPause: () => addPoints(2),\n          controls: true,\n          loop: true,\n          children: \"Your browser does not support the video tag.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"fav-title\",\n          children: vidData.title.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fav-delete\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-trash-o\",\n          title: \"Remove this video from favorites\",\n          onClick: e => {\n            setIsLiked(!isLiked);\n            removeVid('favorites', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              favorites: userData.favorites.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'favorites');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-up\",\n          title: \"Remove this video from favorites\",\n          onClick: e => {\n            setIsLiked(!isLiked);\n            removeVid('favorites', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              favorites: userData.favorites.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'favorites');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 31\n      }, this)]\n    }, 'fav_' + i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }, this));\n  };\n\n  const workOnItList = () => {\n    return chosenVideosData.workOnIt.map((vidData, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-container\",\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          src: vidData.data,\n          type: \"video/mp4\",\n          onPlay: () => addPoints(2),\n          onPause: () => addPoints(2),\n          controls: true,\n          loop: true,\n          children: \"Your browser does not support the video tag.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"fav-title\",\n          children: vidData.title.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fav-delete\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-trash-o\",\n          title: \"Remove this video from workOnIt\",\n          onClick: e => {\n            removeVid('workOnIt', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              workOnIt: userData.workOnIt.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'workOnIt');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-up\",\n          title: \"Remove this video from workOnIt\",\n          onClick: e => {\n            removeVid('workOnIt', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              workOnIt: userData.workOnIt.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'workOnIt');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 31\n      }, this)]\n    }, 'work_' + i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }, this));\n  };\n\n  const addPoints = points => {\n    updateUserData({ ...userData,\n      points: userData.points + points\n    });\n    setUserData({ ...userData,\n      points: userData.points + points\n    });\n  };\n\n  const removeVid = (property, videoID) => {\n    userData.points += 2;\n    const removeID = userData[property].filter(id => id !== videoID);\n    updateUserData({ ...userData,\n      [property]: removeID\n    }, property);\n    setUserData({ ...userData,\n      [property]: removeID\n    });\n  };\n\n  const workOnVideo = () => {\n    const property = 'workOnIt';\n\n    if (userData.dataID && videoData.videoID) {\n      if (!toWorkOnIt) {\n        userData.workOnIt.push(videoData.videoID);\n        userData.points += 2;\n        updateUserData(userData, property);\n        setUserData({ ...userData,\n          [property]: [...userData[property]]\n        });\n      } else {\n        removeVid(property, videoData.videoID);\n      }\n\n      setToWorkOnIt(!toWorkOnIt);\n      workOnVideoRef.current.classList.add(\"shake\");\n      setTimeout(() => {\n        (workOnVideoRef === null || workOnVideoRef === void 0 ? void 0 : workOnVideoRef.current) && workOnVideoRef.current.classList.remove(\"shake\");\n      }, 1000);\n    }\n  };\n\n  const likeVideo = () => {\n    const property = 'favorites';\n\n    if (userData.dataID && videoData.videoID) {\n      if (!isLiked) {\n        userData.favorites.push(videoData.videoID);\n        userData.points += 3;\n        updateUserData(userData, property);\n        setUserData({ ...userData,\n          [property]: [...userData[property]]\n        });\n      } else {\n        removeVid(property, videoData.videoID);\n      }\n\n      heartRef.current.style.top = '-4500%';\n      heartRef.current.style.transform = \"rotate(1080deg)\";\n      heartRef.current.style.opacity = '1';\n      setIsLiked(!isLiked);\n    }\n  };\n\n  useEffect(() => {\n    let resetHeart;\n\n    if (heartRef.current) {\n      resetHeart = setTimeout(() => {\n        heartRef.current.style.top = '0';\n        heartRef.current.style.transform = \"initial\";\n      }, 1000);\n    }\n\n    return () => {\n      resetHeart && clearTimeout(resetHeart);\n    };\n  }, [isLiked]);\n\n  const onChangeHandler = e => {\n    if (e.target.value) {\n      fetch('http://localhost:5000/searchVideos', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          input: e.target.value\n        })\n      }).then(res => res.json()).then(data => setSelectSearch(data)).catch(console.log);\n    }\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    let input = '';\n\n    switch (e.target.tagName) {\n      case 'FORM':\n        input = e.target.firstChild.firstChild.value;\n        input && setVideoData({\n          title: 'Loading...',\n          data: uploadingVid\n        });\n        break;\n\n      case 'SELECT':\n        e.target.previousSibling.firstChild.value = e.target.value;\n        return;\n\n      case 'I':\n        input = e.target.parentElement.previousSibling.value;\n        input && setVideoData({\n          title: 'Loading...',\n          data: uploadingVid\n        });\n        break;\n\n      default:\n        return;\n    }\n\n    fetch('http://localhost:5000/searchVideo', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        input\n      })\n    }).then(res => res.json()).then(video => {\n      if (video) {\n        setVideoData({\n          title: video.title,\n          data: video.data,\n          videoID: video._id\n        });\n        setIsLiked(userData.favorites.includes(video._id));\n        setToWorkOnIt(userData.workOnIt.includes(video._id));\n        setSubmitted(true);\n      } else {\n        setVideoData({\n          title: 'Video not found.',\n          data: notFound,\n          videoID: null\n        });\n      }\n    }).catch(console.log);\n  };\n\n  useEffect(() => {\n    favoritesRef.current.style.left = modalsPosition.favorites + '%';\n    workOnItRef.current.style.left = modalsPosition.workOnIt + '%';\n    anotherRef.current.style.left = modalsPosition.another + '%';\n\n    if (modalsPosition.favorites >= 90) {\n      favoritesRef.current.style.height = '0';\n    } else {\n      favoritesRef.current.style.height = '100vh';\n    }\n\n    if (modalsPosition.workOnIt >= 90) {\n      workOnItRef.current.style.height = '0';\n    } else {\n      workOnItRef.current.style.height = '100vh';\n    }\n\n    if (modalsPosition.another >= 90) {\n      anotherRef.current.style.height = '0';\n    } else {\n      anotherRef.current.style.height = '100vh';\n    }\n  }, [modalsPosition]);\n  useEffect(() => {\n    //const userDataID = decodeJWTPayload().dataID;\n    const fetchOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        token: localStorage.getItem('W2M-JWT-Token')\n      },\n      body: JSON.stringify({\n        dataID: userDataID\n      })\n    };\n    fetch('http://localhost:5000/get-user-data', fetchOptions).then(res => res.json()).then(data => {\n      data.token_error || !localStorage.getItem('W2M-JWT-Token') ? setLandingModal(true) : data.data_error ? console.log(data) : setUserData(data);\n    }).catch(err => console.log('fetch error', err.message));\n    fetch('http://localhost:5000/video-of-the-day').then(res => res.json()).then(video => {\n      setVideoData({\n        title: video.title,\n        data: video.data,\n        videoID: video._id\n      });\n    }).catch(console.log);\n  }, []);\n\n  const resizeModal = modal_name => {\n    addPoints(2);\n\n    if (modal_name === 'favorites' && modalsPosition[modal_name] > 10) {\n      favVidRef.current.style.opacity = 1;\n      workVidRef.current.style.opacity = 0;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'workOnIt' && modalsPosition[modal_name] > 10) {\n      favVidRef.current.style.opacity = .4;\n      workVidRef.current.style.opacity = 1;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'favorites' && modalsPosition[modal_name] < 10 && modalsPosition.workOnIt > 10) {\n      favVidRef.current.style.opacity = 0;\n      workVidRef.current.style.opacity = 0;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'favorites' && modalsPosition[modal_name] < 10 && modalsPosition.workOnIt < 10) {\n      favVidRef.current.style.opacity = 1;\n      workVidRef.current.style.opacity = 0;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'workOnIt' && modalsPosition[modal_name] < 10) {\n      favVidRef.current.style.opacity = 1;\n      workVidRef.current.style.opacity = 0;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'another' && modalsPosition[modal_name] < 10) {\n      favVidRef.current.style.opacity = .4;\n      workVidRef.current.style.opacity = 1;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'another' && modalsPosition[modal_name] > 10) {\n      favVidRef.current.style.opacity = .4;\n      workVidRef.current.style.opacity = .4;\n      anotherVidRef.current.style.opacity = 1;\n    }\n\n    if (modal_name === 'search') {\n      favVidRef.current.style.opacity = 0;\n      workVidRef.current.style.opacity = 0;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    modal_name !== 'another' && (modalsPosition[modal_name] > 10 || modalsPosition.workOnIt < 10) && fetchMyVideos(setChosenVideosData, userData, chosenVideosData, modal_name);\n\n    switch (modal_name) {\n      case 'favorites':\n        modalsPosition.workOnIt > 10 ? setModalsPosition(prev => prev = modalsPosition[modal_name] < 10 ? initialPositions : { ...initialPositions,\n          [modal_name]: expandedPositions.favorites\n        }) : setModalsPosition({ ...initialPositions,\n          [modal_name]: expandedPositions.favorites\n        });\n        break;\n\n      case 'workOnIt':\n        modalsPosition.another > 10 ? setModalsPosition(prev => prev = modalsPosition[modal_name] < 10 ? { ...initialPositions,\n          'favorites': expandedPositions.favorites\n        } : { ...expandedPositions,\n          'another': initialPositions.another\n        }) : setModalsPosition({ ...expandedPositions,\n          'another': initialPositions.another\n        });\n        break;\n\n      case 'another':\n        setModalsPosition(prev => prev = modalsPosition[modal_name] < 10 ? { ...expandedPositions,\n          [modal_name]: initialPositions.another\n        } : expandedPositions);\n        break;\n\n      case 'search':\n        setModalsPosition(initialPositions);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  if (!localStorage.getItem('W2M-JWT-Token')) setLandingModal(true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"learn-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"first-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"search-container\",\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"search-div\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: onChangeHandler,\n            type: \"text\",\n            name: \"search\",\n            placeholder: \"Search sign videos here\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"search-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              id: \"search-vid-icon\",\n              className: \"fas fa-search\",\n              onClick: submitHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 15\n        }, this), selectSearch.length > 0 && /*#__PURE__*/_jsxDEV(\"select\", {\n          style: {\n            color: 'black'\n          },\n          onChange: submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 19\n          }, this), selectSearch.map((video, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n            style: {\n              color: 'black'\n            },\n            value: video.title,\n            children: video.title\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 48\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: submitted || videoData.title === 'Video not found.' ? videoData.title.toUpperCase() : 'Video of the day: ' + videoData.title.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-container\",\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          src: videoData.data,\n          width: \"1000\",\n          height: \"600\",\n          type: \"video/mp4\",\n          onPlay: () => addPoints(2),\n          onPause: () => addPoints(2),\n          controls: true,\n          autoPlay: true,\n          loop: true,\n          children: \"Your browser does not support the video tag.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 13\n      }, this), videoData.videoID && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"video-likes\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-heart\",\n          style: {\n            position: 'relative'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-heart video-icon\",\n            ref: heartRef,\n            onClick: likeVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-business-time\",\n          style: {\n            position: 'relative'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-business-time video-icon\",\n            ref: workOnVideoRef,\n            onClick: workOnVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"favorites-modal\",\n      ref: favoritesRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dummy-margin-top\",\n        style: {\n          height: '15px',\n          cursor: 'pointer'\n        },\n        onClick: e => resizeModal('search'),\n        children: modalsPosition.workOnIt < 90 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-arrow-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 77\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-icons\",\n        onClick: e => resizeModal('favorites'),\n        children: [modalsPosition.favorites > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this) : modalsPosition.workOnIt > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 42\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginRight: '1%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 82\n        }, this), '    ', \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-heart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"videos-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"videos-container\",\n          ref: favVidRef,\n          children: favList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"work-on-it-modal\",\n      ref: workOnItRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dummy-margin-top\",\n        style: {\n          height: '15px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => resizeModal('workOnIt'),\n        className: \"modal-icons\",\n        children: [modalsPosition.workOnIt > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 43\n        }, this) : modalsPosition.another > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 41\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginRight: '1%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 81\n        }, this), '    ', /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-business-time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"videos-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"videos-container\",\n          ref: workVidRef,\n          children: workOnItList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"another-modal\",\n      ref: anotherRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dummy-margin-top\",\n        style: {\n          height: '15px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => resizeModal('another'),\n        className: \"modal-icons\",\n        children: [modalsPosition.another > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 42\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 81\n        }, this), '    ', /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-play-circle-o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"videos-wrapper\",\n        style: {\n          opacity: '0'\n        },\n        ref: anotherVidRef,\n        children: \"bla bla bla\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Learn, \"HM3+rPp6z2BTH/VtAeJNJlUyRWw=\");\n\n_c = Learn;\nexport default Learn;\n\nvar _c;\n\n$RefreshReg$(_c, \"Learn\");","map":{"version":3,"names":["uploadingVid","notFound","updateUserData","useState","useRef","useEffect","useContext","MyContext","fetchMyVideos","Learn","setLandingModal","payload","userDataID","dataID","initialPositions","favorites","workOnIt","another","expandedPositions","userData","setUserData","points","modalsPosition","setModalsPosition","videoData","setVideoData","title","data","videoID","chosenVideosData","setChosenVideosData","selectSearch","setSelectSearch","submitted","setSubmitted","isLiked","setIsLiked","toWorkOnIt","setToWorkOnIt","favoritesRef","workOnItRef","anotherRef","heartRef","workOnVideoRef","favVidRef","workVidRef","anotherVidRef","current","includes","style","color","favList","map","vidData","i","addPoints","toUpperCase","e","removeVid","_id","filter","id","cursor","workOnItList","property","removeID","workOnVideo","push","classList","add","setTimeout","remove","likeVideo","top","transform","opacity","resetHeart","clearTimeout","onChangeHandler","target","value","fetch","method","headers","body","JSON","stringify","input","then","res","json","catch","console","log","submitHandler","preventDefault","tagName","firstChild","previousSibling","parentElement","video","left","height","fetchOptions","token","localStorage","getItem","token_error","data_error","err","message","resizeModal","modal_name","prev","length","position","marginRight"],"sources":["/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/src/components/Learn/Learn.jsx"],"sourcesContent":["import './Learn.css';\nimport uploadingVid from '../../assets/uploading_bar.mp4';\nimport notFound from '../../assets/404pagenotfound.mp4';\nimport updateUserData from '../../helpers/updateUserData';\nimport { useState, useRef, useEffect, useContext } from 'react';\nimport MyContext from '../../context/MyContext.js';\nimport fetchMyVideos from '../../helpers/fetchMyVideos';\n\n\nconst Learn = () => {\n\n  const {setLandingModal, payload} = useContext(MyContext);\n  const userDataID = payload.dataID;\n\n  const initialPositions = {favorites: 90, workOnIt: 93.3, another: 96.6};\n  const expandedPositions = {favorites: 0, workOnIt: 3, another: 6};\n \n  const [userData, setUserData] = useState({favorites: [], workOnIt: [], points: 0, dataID: null});\n  const [modalsPosition, setModalsPosition] = useState(initialPositions);\n  const [videoData, setVideoData] = useState({title: 'Loading...', data: uploadingVid, videoID: null});  \n  const [chosenVideosData, setChosenVideosData] = useState({favorites:[], workOnIt: []});\n  const [selectSearch, setSelectSearch] = useState('');  \n  const [submitted, setSubmitted] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);  \n  const [toWorkOnIt, setToWorkOnIt] = useState(false);\n\n  const favoritesRef = useRef();\n  const workOnItRef = useRef();\n  const anotherRef = useRef();\n  const heartRef = useRef();\n  const workOnVideoRef = useRef();\n  const favVidRef = useRef();\n  const workVidRef = useRef();\n  const anotherVidRef = useRef();\n\n  useEffect(()=>{\n    if(heartRef.current && userData.favorites.includes(videoData.videoID)) {\n      heartRef.current.style.color='#7f6ea6';\n      heartRef.current.title=\"Remove like?\";}\n    else if(heartRef.current) {\n      heartRef.current.style.color='white';\n      heartRef.current.title=\"Add to favorites\";\n    }\n  },[userData.favorites,videoData.videoID]);\n  \n  useEffect(()=>{\n    if(workOnVideoRef.current && userData.workOnIt.includes(videoData.videoID)) {\n      workOnVideoRef.current.style.color='#9168a1';\n      workOnVideoRef.current.title=\"Remove icon?\";}\n    else if(workOnVideoRef.current) {\n      workOnVideoRef.current.style.color='white';\n      workOnVideoRef.current.title=\"Work on it later\"}\n  },[userData.workOnIt,videoData.videoID]);\n\n\n  const favList = () => {\n\n    return    chosenVideosData.favorites.map((vidData,i)=>\n                            <div key={'fav_'+i}>\n\n                              <div className=\"img-container\">\n                                        <video \n                                              src={vidData.data} \n                                              type=\"video/mp4\"\n                                              onPlay={()=>addPoints(2)} \n                                              onPause={()=>addPoints(2)}\n                                              controls \n                                              loop>\n                                  Your browser does not support the video tag.</video> \n                              </div>\n                              \n                              <div className=\"text\">\n                                <h5 className='fav-title'> \n                                  {vidData.title.toUpperCase()}\n                                </h5>\n                              </div>\n\n                              <div className=\"fav-delete\">\n                                <i className=\"fa fa-trash-o\" \n                                  title='Remove this video from favorites' \n                                  onClick={(e)=>{setIsLiked(!isLiked);\n                                    removeVid('favorites',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,favorites:userData.favorites.filter(id=>id!==vidData._id)},chosenVideosData,'favorites');\n                                                  }}\n                                  style={{cursor:'pointer', color: '#404756'}}></i>\n                                <i className=\"fa fa-arrow-up\" \n                                  title='Remove this video from favorites' \n                                  onClick={(e)=>{setIsLiked(!isLiked);\n                                    removeVid('favorites',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,favorites:userData.favorites.filter(id=>id!==vidData._id)},chosenVideosData,'favorites');\n                                                  }}\n                                  style={{cursor:'pointer', \tcolor: '#404756'}}></i>\n                              </div> \n\n                            </div>) ;\n  }\n\n  const workOnItList = () => {\n\n    return    chosenVideosData.workOnIt.map((vidData,i)=>\n                            <div key={'work_'+i}>\n\n                              <div className=\"img-container\">\n                                        <video \n                                              src={vidData.data} \n                                              type=\"video/mp4\"\n                                              onPlay={()=>addPoints(2)} \n                                              onPause={()=>addPoints(2)}\n                                              controls \n                                              loop>\n                                  Your browser does not support the video tag.</video> \n                              </div>\n                              \n                              <div className=\"text\">\n                                <h5 className='fav-title'> \n                                  {vidData.title.toUpperCase()}\n                                </h5>\n                              </div>\n\n                              <div className=\"fav-delete\">\n                                <i className=\"fa fa-trash-o\" \n                                  title='Remove this video from workOnIt' \n                                  onClick={(e)=>{\n                                    removeVid('workOnIt',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,workOnIt:userData.workOnIt.filter(id=>id!==vidData._id)},chosenVideosData,'workOnIt');\n                                                  }}\n                                  style={{cursor:'pointer', color: '#404756'}}></i>\n                                <i className=\"fa fa-arrow-up\" \n                                  title='Remove this video from workOnIt' \n                                  onClick={(e)=>{\n                                    removeVid('workOnIt',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,workOnIt:userData.workOnIt.filter(id=>id!==vidData._id)},chosenVideosData,'workOnIt');\n                                                  }}\n                                  style={{cursor:'pointer', \tcolor: '#404756'}}></i>\n                              </div> \n\n                            </div>) ;\n  }\n\n  const addPoints = (points) => {\n\n    updateUserData({...userData, points: userData.points+points});\n    setUserData({...userData, points: userData.points+points});\n\n  }\n  \n  const removeVid = (property,videoID) => {\n        userData.points+=2;\n        const removeID = userData[property].filter(id=>id!==videoID);\n        updateUserData({...userData,[property]:removeID},property);\n        setUserData({...userData, [property]: removeID});\n  }\n  \n  const workOnVideo = () =>{\n    const property = 'workOnIt';\n    if(userData.dataID && videoData.videoID){\n      if(!toWorkOnIt){\n        userData.workOnIt.push(videoData.videoID);\n        userData.points+=2;\n        updateUserData(userData,property);\n        setUserData({...userData,[property]:[...userData[property]]});\n      } else {\n        removeVid(property,videoData.videoID);\n      }\n      \n      setToWorkOnIt(!toWorkOnIt)\n      workOnVideoRef.current.classList.add(\"shake\");\n      setTimeout(()=>{ workOnVideoRef?.current && workOnVideoRef.current.classList.remove(\"shake\");},1000);\n    }\n  }\n\n  const likeVideo = () =>{\n    const property = 'favorites';\n\n    if(userData.dataID && videoData.videoID){\n      if(!isLiked){\n        userData.favorites.push(videoData.videoID);\n        userData.points+=3;\n        updateUserData(userData,property);\n        setUserData({...userData,[property]:[...userData[property]]});\n      } else {\n        removeVid(property,videoData.videoID);\n      }\n      heartRef.current.style.top='-4500%';\n      heartRef.current.style.transform=\"rotate(1080deg)\";\n      heartRef.current.style.opacity='1';\n      setIsLiked(!isLiked);\n    }\n  }\n\n  useEffect(()=> {\n\n    let resetHeart;\n    if(heartRef.current){\n    resetHeart = setTimeout(() => {\n      heartRef.current.style.top='0';\n      heartRef.current.style.transform=\"initial\";\n    }, 1000);}\n\n    return ()=>{resetHeart && clearTimeout(resetHeart)};\n\n  },[isLiked]);\n\n  const onChangeHandler = (e) => {\n\t  \n\t  if(e.target.value) {\n\t  \n\t\t  fetch('http://localhost:5000/searchVideos', {\n\t\t\t  method: 'POST',\n\t\t\t  headers: {'Content-Type':'application/json'},\n\t\t\t  body: JSON.stringify({ input: e.target.value })\n\t\t  })\n\t\t  .then(res=>res.json())\n\t\t  .then(data=>setSelectSearch(data))\n\t\t  .catch(console.log);\n\t  \n\t  }\n\t  \n  }\n  \n  const submitHandler = (e) => {\n\te.preventDefault();\n  let input = '';\n\t\n\tswitch(e.target.tagName) {\n\t\t\n\t\tcase 'FORM': input = e.target.firstChild.firstChild.value;\n\t\t             input && setVideoData({title: 'Loading...', data: uploadingVid});\n\t  break;\n\t\t\n\t\tcase 'SELECT': e.target.previousSibling.firstChild.value = e.target.value;\n\t\treturn;\n\t\t\n\t\tcase 'I': input = e.target.parentElement.previousSibling.value;\n\t\t          input && setVideoData({title: 'Loading...', data: uploadingVid});\n\t  break;\n\t\t\n\t\tdefault: return;\n\t}\n\t\n\tfetch('http://localhost:5000/searchVideo', {\n\t\t\t  method: 'POST',\n\t\t\t  headers: {'Content-Type':'application/json'},\n\t\t\t  body: JSON.stringify({ input })\n\t\t  })\n\t\t  .then(res=>res.json())\n  .then(video=>{\n\t\t\t\tif(video){\n        setVideoData({title:video.title,data:video.data, videoID: video._id});\n        setIsLiked(userData.favorites.includes(video._id));\n        setToWorkOnIt(userData.workOnIt.includes(video._id));\n\t\t\t\tsetSubmitted(true);\n          } else {setVideoData({title:'Video not found.',data:notFound, videoID: null});}\n\t\t\t\t})\n\t\t  .catch(console.log);\n\t\n  }\n\n  useEffect(()=>{\n    favoritesRef.current.style.left = modalsPosition.favorites+'%';\n    workOnItRef.current.style.left = modalsPosition.workOnIt+'%';\n    anotherRef.current.style.left = modalsPosition.another+'%';\n\n    if(modalsPosition.favorites >= 90) {\n      favoritesRef.current.style.height = '0';\n      } else {\n        favoritesRef.current.style.height = '100vh';\n      }\n    \n    if(modalsPosition.workOnIt >= 90) {\n      workOnItRef.current.style.height = '0';\n      } else {\n        workOnItRef.current.style.height = '100vh';\n      }\n\n    if(modalsPosition.another >= 90) {\n      anotherRef.current.style.height = '0';\n      } else {\n        anotherRef.current.style.height = '100vh';\n      }\n\n  },[modalsPosition]);\n\n  useEffect(()=>{\n\n  //const userDataID = decodeJWTPayload().dataID;\n\n \n    const fetchOptions = {\n        method: 'POST',\n        headers: {\n            'Content-Type':'application/json',\n            token: localStorage.getItem('W2M-JWT-Token')\n        },\n        body: JSON.stringify({dataID: userDataID})\n    }\n\n    fetch('http://localhost:5000/get-user-data', fetchOptions)\n    .then(res=>res.json())\n    .then(data=>{ \n                data.token_error || !localStorage.getItem('W2M-JWT-Token') ? \n                setLandingModal(true) :\n                data.data_error ? console.log(data) : setUserData(data)})\n    .catch(err=>console.log('fetch error',err.message));\n\n\t  \n\tfetch('http://localhost:5000/video-of-the-day')\n\t.then(res=>res.json())\n\t.then(video=>{\n\t\t\tsetVideoData({title: video.title, data: video.data, videoID: video._id});\n\t\t})\n\t\t.catch(console.log);\n\t  \n  },[]);\n\n  const resizeModal = (modal_name) => {\n\n    addPoints(2);\n\n    if( modal_name==='favorites' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=0; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='workOnIt' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=1; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='favorites' && modalsPosition[modal_name]<10 && modalsPosition.workOnIt > 10) {\n      favVidRef.current.style.opacity=0; workVidRef.current.style.opacity=0; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='favorites' && modalsPosition[modal_name]<10 && modalsPosition.workOnIt < 10) {\n        favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=0; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='workOnIt' && modalsPosition[modal_name]<10 ) {\n      favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=0; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='another' && modalsPosition[modal_name]<10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=1; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='another' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=.4; anotherVidRef.current.style.opacity=1;}\n    if(modal_name==='search'){\n      favVidRef.current.style.opacity=0; workVidRef.current.style.opacity=0; anotherVidRef.current.style.opacity=0;\n    }\n    \n    modal_name!=='another' && (modalsPosition[modal_name]>10 || modalsPosition.workOnIt<10) && \n    fetchMyVideos(setChosenVideosData,userData,chosenVideosData,modal_name);\n\n    switch(modal_name){\n\n      case 'favorites': modalsPosition.workOnIt > 10 ?\n                        setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? initialPositions : {...initialPositions, [modal_name]:expandedPositions.favorites}) :\n                        setModalsPosition({...initialPositions, [modal_name]:expandedPositions.favorites});\n      break;\n\n      case 'workOnIt': modalsPosition.another > 10 ? \n                       setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? {...initialPositions, 'favorites': expandedPositions.favorites} : {...expandedPositions, 'another':initialPositions.another}) :\n                       setModalsPosition({...expandedPositions, 'another':initialPositions.another});\n      break;\n\n      case 'another': setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? {...expandedPositions, [modal_name]:initialPositions.another} : expandedPositions);\n      break;\n\n      case 'search': setModalsPosition(initialPositions);\n      break;\n      default: return;\n    }\n  }\n\n  if(!localStorage.getItem('W2M-JWT-Token')) setLandingModal(true);\n\n  return ( \n    <div id=\"learn-container\">\n        <div id=\"first-page\">\n            <form id=\"search-container\" onSubmit={submitHandler}>\n              <div id='search-div'>\n                <input\n                onChange={onChangeHandler} \n                type='text'\n                name='search' \n                placeholder='Search sign videos here'\n                autoFocus={true} /> \n                <span id='search-btn'>\n                <i  id='search-vid-icon'\n                  className=\"fas fa-search\" \n                  onClick={submitHandler}>\n                </i>\n                </span>\n              </div>\n              {selectSearch.length>0 && <select style={{color:'black'}}  onChange={submitHandler}>\n                  <option value=''></option>\n                  {selectSearch.map((video,i)=><option key={i} style={{color:'black'}} value={video.title}>{video.title}</option>)}\n              </select>}\n            </form>\n\t\t\t\n            <div className=\"text\">\n              <h5> \n                {submitted || videoData.title==='Video not found.' ? videoData.title.toUpperCase() : 'Video of the day: '+videoData.title.toUpperCase()}\n              </h5>\n            </div>\n                  \n            <div className=\"img-container\">\n                      <video \n                            src={videoData.data} \n                            width=\"1000\" \n                            height=\"600\" \n                            type=\"video/mp4\"\n                            onPlay={()=>addPoints(2)} \n                            onPause={()=>addPoints(2)}\n                            controls \n                            autoPlay \n                            loop>\n                Your browser does not support the video tag.</video> \n            </div>\n            \n            {videoData.videoID &&\n            <div id=\"video-likes\">\n              <i className=\"fa fa-heart\" style={{position:'relative'}}>\n                <i className=\"fa fa-heart video-icon\" ref={heartRef} onClick={likeVideo}></i>\n              </i>\n              <i className='fas fa-business-time' style={{position:'relative'}}>\n                <i className='fas fa-business-time video-icon' ref={workOnVideoRef} onClick={workOnVideo}></i>\n              </i>\n            </div>}\n          \n        </div>\n        <div id=\"favorites-modal\" ref={favoritesRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px', cursor: 'pointer'}} onClick={(e)=>resizeModal('search')}>\n\t\t        {modalsPosition.workOnIt<90 && <><i className=\"fas fa-search\"></i><i className=\"fa fa-arrow-right\"></i></>}\n          </div>\n          <div className='modal-icons' onClick={(e)=>resizeModal('favorites')}>\n            {modalsPosition.favorites>10 ? \n            <i className=\"fa fa-arrow-left\"></i> : \n            modalsPosition.workOnIt>10 ? <i className=\"fa fa-arrow-right\"></i> : <span style={{marginRight: '1%'}}></span> }\n            {'    '} <i className=\"fa fa-heart\"></i>\n          </div>\n          <section className='videos-wrapper'>\n\n              <div className='videos-container' ref={favVidRef}>\n\n                {favList()}             \n\n              </div>\n\n          </section>\n        </div>\n        <div id=\"work-on-it-modal\" ref={workOnItRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px'}}></div>\n          <div onClick={(e)=>resizeModal('workOnIt')} className='modal-icons'>\n            {modalsPosition.workOnIt>10 ? <i className=\"fa fa-arrow-left\"></i> : \n            modalsPosition.another>10 ? <i className=\"fa fa-arrow-right\"></i> : < span style={{marginRight: '1%'}}></span>}\n            {'    '}<i className='fas fa-business-time'></i>\n          </div>\n          <section className='videos-wrapper'>\n\n              <div className='videos-container' ref={workVidRef}>\n\n                {workOnItList()}              \n\n              </div>\n\n          </section>\n        </div>\n        <div id=\"another-modal\" ref={anotherRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px'}}></div>\n          <div onClick={(e)=>resizeModal('another')} className='modal-icons'>\n            {modalsPosition.another>10 ? <i className=\"fa fa-arrow-left\"></i> : <i className=\"fa fa-arrow-right\"></i>}\n            {'    '}<i className=\"fa fa-play-circle-o\"></i></div>\n          <section className='videos-wrapper' style={{opacity: '0'}} ref={anotherVidRef}>\n\n              bla bla bla\n\n          </section>\n        </div>\n    </div>\n  )\n}\n\nexport default Learn;"],"mappings":"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"},"metadata":{},"sourceType":"module"}