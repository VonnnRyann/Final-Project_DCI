{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/src/components/Learn/Learn.jsx\",\n    _s = $RefreshSig$();\n\nimport './Learn.css';\nimport uploadingVid from '../../assets/uploading_bar.mp4';\nimport notFound from '../../assets/404pagenotfound.mp4';\nimport decodeJWTPayload from '../../helpers/decodeJWTPayload.js';\nimport updateUserData from '../../helpers/updateUserData';\nimport { useState, useRef, useEffect, useContext } from 'react';\nimport MyContext from '../../context/MyContext.js';\nimport fetchMyVideos from '../../helpers/fetchMyVideos';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Learn = () => {\n  _s();\n\n  const {\n    setLandingModal\n  } = useContext(MyContext);\n  const initialPositions = {\n    favorites: 90,\n    workOnIt: 93.3,\n    another: 96.6\n  };\n  const expandedPositions = {\n    favorites: 0,\n    workOnIt: 3,\n    another: 6\n  };\n  const [userData, setUserData] = useState({\n    favorites: [],\n    workOnIt: [],\n    points: 0,\n    dataID: null\n  });\n  const [modalsPosition, setModalsPosition] = useState(initialPositions);\n  const [videoData, setVideoData] = useState({\n    title: 'Loading...',\n    data: uploadingVid,\n    videoID: null\n  });\n  const [chosenVideosData, setChosenVideosData] = useState({\n    favorites: [],\n    workOnIt: []\n  });\n  const [selectSearch, setSelectSearch] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);\n  const [toWorkOnIt, setToWorkOnIt] = useState(false);\n  const favoritesRef = useRef();\n  const workOnItRef = useRef();\n  const anotherRef = useRef();\n  const heartRef = useRef();\n  const workOnVideoRef = useRef();\n  const favVidRef = useRef();\n  const workVidRef = useRef();\n  const anotherVidRef = useRef();\n  useEffect(() => {\n    if (heartRef.current && userData.favorites.includes(videoData.videoID)) {\n      heartRef.current.style.color = '#7f6ea6';\n      heartRef.current.title = \"Remove like?\";\n    } else if (heartRef.current) {\n      heartRef.current.style.color = 'white';\n      heartRef.current.title = \"Add to favorites\";\n    }\n  }, [userData.favorites, videoData.videoID]);\n  useEffect(() => {\n    if (workOnVideoRef.current && userData.workOnIt.includes(videoData.videoID)) {\n      workOnVideoRef.current.style.color = '#9168a1';\n      workOnVideoRef.current.title = \"Remove icon?\";\n    } else if (workOnVideoRef.current) {\n      workOnVideoRef.current.style.color = 'white';\n      workOnVideoRef.current.title = \"Work on it later\";\n    }\n  }, [userData.workOnIt, videoData.videoID]);\n\n  const favList = () => {\n    return chosenVideosData.favorites.map((vidData, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-container\",\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          src: vidData.data,\n          type: \"video/mp4\",\n          onPlay: () => addPoints(2),\n          onPause: () => addPoints(2),\n          controls: true,\n          loop: true,\n          children: \"Your browser does not support the video tag.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"fav-title\",\n          children: vidData.title.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fav-delete\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-trash-o\",\n          title: \"Remove this video from favorites\",\n          onClick: e => {\n            setIsLiked(!isLiked);\n            removeVid('favorites', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              favorites: userData.favorites.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'favorites');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-up\",\n          title: \"Remove this video from favorites\",\n          onClick: e => {\n            setIsLiked(!isLiked);\n            removeVid('favorites', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              favorites: userData.favorites.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'favorites');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 31\n      }, this)]\n    }, Math.random() / i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }, this));\n  };\n\n  const workOnItList = () => {\n    return chosenVideosData.workOnIt.map((vidData, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-container\",\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          src: vidData.data,\n          type: \"video/mp4\",\n          onPlay: () => addPoints(2),\n          onPause: () => addPoints(2),\n          controls: true,\n          loop: true,\n          children: \"Your browser does not support the video tag.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"fav-title\",\n          children: vidData.title.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fav-delete\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-trash-o\",\n          title: \"Remove this video from workOnIt\",\n          onClick: e => {\n            setIsLiked(!isLiked);\n            removeVid('workOnIt', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              workOnIt: userData.workOnIt.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'workOnIt');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-up\",\n          title: \"Remove this video from workOnIt\",\n          onClick: e => {\n            setIsLiked(!isLiked);\n            removeVid('workOnIt', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              workOnIt: userData.workOnIt.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'workOnIt');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 31\n      }, this)]\n    }, Math.random() / i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }, this));\n  };\n\n  const addPoints = points => {\n    updateUserData({ ...userData,\n      points: userData.points + points\n    });\n    setUserData({ ...userData,\n      points: userData.points + points\n    });\n  };\n\n  const removeVid = (property, videoID) => {\n    userData.points += 2;\n    const removeID = userData[property].filter(id => id !== videoID);\n    updateUserData({ ...userData,\n      [property]: removeID\n    }, property);\n    setUserData({ ...userData,\n      [property]: removeID\n    });\n  };\n\n  const workOnVideo = () => {\n    const property = 'workOnIt';\n\n    if (userData.dataID && videoData.videoID) {\n      if (!toWorkOnIt) {\n        userData.workOnIt.push(videoData.videoID);\n        userData.points += 2;\n        updateUserData(userData, property);\n        setUserData({ ...userData,\n          [property]: [...userData[property]]\n        });\n      } else {\n        removeVid(property, videoData.videoID);\n      }\n\n      setToWorkOnIt(!toWorkOnIt);\n      workOnVideoRef.current.classList.add(\"shake\");\n      setTimeout(() => {\n        (workOnVideoRef === null || workOnVideoRef === void 0 ? void 0 : workOnVideoRef.current) && workOnVideoRef.current.classList.remove(\"shake\");\n      }, 1000);\n    }\n  };\n\n  const likeVideo = () => {\n    const property = 'favorites';\n\n    if (userData.dataID && videoData.videoID) {\n      if (!isLiked) {\n        userData.favorites.push(videoData.videoID);\n        userData.points += 3;\n        updateUserData(userData, property);\n        setUserData({ ...userData,\n          [property]: [...userData[property]]\n        });\n      } else {\n        removeVid(property, videoData.videoID);\n      }\n\n      heartRef.current.style.top = '-4500%';\n      heartRef.current.style.transform = \"rotate(1080deg)\";\n      heartRef.current.style.opacity = '1';\n      setIsLiked(!isLiked);\n    }\n  };\n\n  useEffect(() => {\n    let resetHeart;\n\n    if (heartRef.current) {\n      resetHeart = setTimeout(() => {\n        heartRef.current.style.top = '0';\n        heartRef.current.style.transform = \"initial\";\n      }, 1000);\n    }\n\n    return () => {\n      resetHeart && clearTimeout(resetHeart);\n    };\n  }, [isLiked]);\n\n  const onChangeHandler = e => {\n    if (e.target.value) {\n      fetch('http://localhost:5000/searchVideos', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          input: e.target.value\n        })\n      }).then(res => res.json()).then(data => setSelectSearch(data)).catch(console.log);\n    }\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    let input = '';\n\n    switch (e.target.tagName) {\n      case 'FORM':\n        input = e.target.firstChild.firstChild.value;\n        input && setVideoData({\n          title: 'Loading...',\n          data: uploadingVid\n        });\n        break;\n\n      case 'SELECT':\n        e.target.previousSibling.firstChild.value = e.target.value;\n        return;\n\n      case 'I':\n        input = e.target.parentElement.previousSibling.value;\n        input && setVideoData({\n          title: 'Loading...',\n          data: uploadingVid\n        });\n        break;\n\n      default:\n        return;\n    }\n\n    fetch('http://localhost:5000/searchVideo', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        input\n      })\n    }).then(res => res.json()).then(video => {\n      if (video) {\n        setVideoData({\n          title: video.title,\n          data: video.data,\n          videoID: video._id\n        });\n        setIsLiked(userData.favorites.includes(video._id));\n        setToWorkOnIt(userData.workOnIt.includes(video._id));\n        setSubmitted(true);\n      } else {\n        setVideoData({\n          title: 'Video not found.',\n          data: notFound,\n          videoID: null\n        });\n      }\n    }).catch(console.log);\n  };\n\n  useEffect(() => {\n    favoritesRef.current.style.left = modalsPosition.favorites + '%';\n    workOnItRef.current.style.left = modalsPosition.workOnIt + '%';\n    anotherRef.current.style.left = modalsPosition.another + '%';\n\n    if (modalsPosition.favorites >= 90) {\n      favoritesRef.current.style.height = '0';\n    } else {\n      favoritesRef.current.style.height = '100vh';\n    }\n\n    if (modalsPosition.workOnIt >= 90) {\n      workOnItRef.current.style.height = '0';\n    } else {\n      workOnItRef.current.style.height = '100vh';\n    }\n\n    if (modalsPosition.another >= 90) {\n      anotherRef.current.style.height = '0';\n    } else {\n      anotherRef.current.style.height = '100vh';\n    }\n  }, [modalsPosition]);\n  useEffect(() => {\n    const userDataID = decodeJWTPayload().dataID;\n    const fetchOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        token: localStorage.getItem('W2M-JWT-Token')\n      },\n      body: JSON.stringify({\n        dataID: userDataID\n      })\n    };\n    fetch('http://localhost:5000/get-user-data', fetchOptions).then(res => res.json()).then(data => {\n      data.token_error || !localStorage.getItem('W2M-JWT-Token') ? setLandingModal(true) : data.data_error ? console.log(data) : setUserData(data);\n    }).catch(err => console.log('fetch error', err.message));\n    fetch('http://localhost:5000/video-of-the-day').then(res => res.json()).then(video => {\n      setVideoData({\n        title: video.title,\n        data: video.data,\n        videoID: video._id\n      });\n    }).catch(console.log);\n  }, []);\n\n  const resizeModal = modal_name => {\n    addPoints(2);\n\n    if (modal_name === 'favorites' && modalsPosition[modal_name] > 10) {\n      favVidRef.current.style.opacity = 1;\n      workVidRef.current.style.opacity = 0;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'workOnIt' && modalsPosition[modal_name] > 10) {\n      favVidRef.current.style.opacity = .4;\n      workVidRef.current.style.opacity = 1;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'favorites' && modalsPosition[modal_name] < 10 && modalsPosition.workOnIt > 10) {\n      favVidRef.current.style.opacity = 0;\n      workVidRef.current.style.opacity = 0;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'favorites' && modalsPosition[modal_name] < 10 && modalsPosition.workOnIt < 10) {\n      favVidRef.current.style.opacity = 1;\n      workVidRef.current.style.opacity = 0;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'workOnIt' && modalsPosition[modal_name] < 10) {\n      favVidRef.current.style.opacity = 1;\n      workVidRef.current.style.opacity = 0;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'another' && modalsPosition[modal_name] < 10) {\n      favVidRef.current.style.opacity = .4;\n      workVidRef.current.style.opacity = 1;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'another' && modalsPosition[modal_name] > 10) {\n      favVidRef.current.style.opacity = .4;\n      workVidRef.current.style.opacity = .4;\n      anotherVidRef.current.style.opacity = 1;\n    }\n\n    if (modal_name === 'search') {\n      favVidRef.current.style.opacity = 0;\n      workVidRef.current.style.opacity = 0;\n      anotherVidRef.current.style.opacity = 0;\n    }\n\n    modal_name !== 'another' && (modalsPosition[modal_name] > 10 || modalsPosition.workOnIt < 10) && fetchMyVideos(setChosenVideosData, userData, chosenVideosData, modal_name);\n\n    switch (modal_name) {\n      case 'favorites':\n        modalsPosition.workOnIt > 10 ? setModalsPosition(prev => prev = modalsPosition[modal_name] < 10 ? initialPositions : { ...initialPositions,\n          [modal_name]: expandedPositions.favorites\n        }) : setModalsPosition({ ...initialPositions,\n          [modal_name]: expandedPositions.favorites\n        });\n        break;\n\n      case 'workOnIt':\n        modalsPosition.another > 10 ? setModalsPosition(prev => prev = modalsPosition[modal_name] < 10 ? { ...initialPositions,\n          'favorites': expandedPositions.favorites\n        } : { ...expandedPositions,\n          'another': initialPositions.another\n        }) : setModalsPosition({ ...expandedPositions,\n          'another': initialPositions.another\n        });\n        break;\n\n      case 'another':\n        setModalsPosition(prev => prev = modalsPosition[modal_name] < 10 ? { ...expandedPositions,\n          [modal_name]: initialPositions.another\n        } : expandedPositions);\n        break;\n\n      case 'search':\n        setModalsPosition(initialPositions);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  if (!localStorage.getItem('W2M-JWT-Token')) setLandingModal(true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"learn-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"first-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"search-container\",\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"search-div\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: onChangeHandler,\n            type: \"text\",\n            name: \"search\",\n            placeholder: \"Search sign videos here\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"search-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              id: \"search-vid-icon\",\n              className: \"fas fa-search\",\n              onClick: submitHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 15\n        }, this), selectSearch.length > 0 && /*#__PURE__*/_jsxDEV(\"select\", {\n          style: {\n            color: 'black'\n          },\n          onChange: submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 19\n          }, this), selectSearch.map((video, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n            style: {\n              color: 'black'\n            },\n            value: video.title,\n            children: video.title\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 48\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: submitted || videoData.title === 'Video not found.' ? videoData.title.toUpperCase() : 'Video of the day: ' + videoData.title.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-container\",\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          src: videoData.data,\n          width: \"1000\",\n          height: \"600\",\n          type: \"video/mp4\",\n          onPlay: () => addPoints(2),\n          onPause: () => addPoints(2),\n          controls: true,\n          autoPlay: true,\n          loop: true,\n          children: \"Your browser does not support the video tag.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 13\n      }, this), videoData.videoID && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"video-likes\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-heart\",\n          style: {\n            position: 'relative'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-heart video-icon\",\n            ref: heartRef,\n            onClick: likeVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-business-time\",\n          style: {\n            position: 'relative'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-business-time video-icon\",\n            ref: workOnVideoRef,\n            onClick: workOnVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"favorites-modal\",\n      ref: favoritesRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dummy-margin-top\",\n        style: {\n          height: '15px',\n          cursor: 'pointer'\n        },\n        onClick: e => resizeModal('search'),\n        children: modalsPosition.workOnIt < 90 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-arrow-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 77\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-icons\",\n        onClick: e => resizeModal('favorites'),\n        children: [modalsPosition.favorites > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this) : modalsPosition.workOnIt > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 42\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginRight: '1%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 82\n        }, this), '    ', \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-heart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"videos-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"videos-container\",\n          ref: favVidRef,\n          children: favList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"work-on-it-modal\",\n      ref: workOnItRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dummy-margin-top\",\n        style: {\n          height: '15px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => resizeModal('workOnIt'),\n        className: \"modal-icons\",\n        children: [modalsPosition.workOnIt > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 43\n        }, this) : modalsPosition.another > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 41\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginRight: '1%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 81\n        }, this), '    ', /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-business-time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"videos-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"videos-container\",\n          ref: workVidRef,\n          children: workOnItList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"another-modal\",\n      ref: anotherRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dummy-margin-top\",\n        style: {\n          height: '15px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => resizeModal('another'),\n        className: \"modal-icons\",\n        children: [modalsPosition.another > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 42\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 81\n        }, this), '    ', /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-play-circle-o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"videos-wrapper\",\n        style: {\n          opacity: '0'\n        },\n        ref: anotherVidRef,\n        children: \"bla bla bla\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 365,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Learn, \"95CdnC5Ju/mbuKfFxq8/wjfQ4tI=\");\n\n_c = Learn;\nexport default Learn;\n\nvar _c;\n\n$RefreshReg$(_c, \"Learn\");","map":{"version":3,"names":["uploadingVid","notFound","decodeJWTPayload","updateUserData","useState","useRef","useEffect","useContext","MyContext","fetchMyVideos","Learn","setLandingModal","initialPositions","favorites","workOnIt","another","expandedPositions","userData","setUserData","points","dataID","modalsPosition","setModalsPosition","videoData","setVideoData","title","data","videoID","chosenVideosData","setChosenVideosData","selectSearch","setSelectSearch","submitted","setSubmitted","isLiked","setIsLiked","toWorkOnIt","setToWorkOnIt","favoritesRef","workOnItRef","anotherRef","heartRef","workOnVideoRef","favVidRef","workVidRef","anotherVidRef","current","includes","style","color","favList","map","vidData","i","addPoints","toUpperCase","e","removeVid","_id","filter","id","cursor","Math","random","workOnItList","property","removeID","workOnVideo","push","classList","add","setTimeout","remove","likeVideo","top","transform","opacity","resetHeart","clearTimeout","onChangeHandler","target","value","fetch","method","headers","body","JSON","stringify","input","then","res","json","catch","console","log","submitHandler","preventDefault","tagName","firstChild","previousSibling","parentElement","video","left","height","userDataID","fetchOptions","token","localStorage","getItem","token_error","data_error","err","message","resizeModal","modal_name","prev","length","position","marginRight"],"sources":["/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/src/components/Learn/Learn.jsx"],"sourcesContent":["import './Learn.css';\nimport uploadingVid from '../../assets/uploading_bar.mp4';\nimport notFound from '../../assets/404pagenotfound.mp4';\nimport decodeJWTPayload from '../../helpers/decodeJWTPayload.js';\nimport updateUserData from '../../helpers/updateUserData';\nimport { useState, useRef, useEffect, useContext } from 'react';\nimport MyContext from '../../context/MyContext.js';\nimport fetchMyVideos from '../../helpers/fetchMyVideos';\n\n\nconst Learn = () => {\n\n  const {setLandingModal} = useContext(MyContext);\n\n  const initialPositions = {favorites: 90, workOnIt: 93.3, another: 96.6};\n  const expandedPositions = {favorites: 0, workOnIt: 3, another: 6};\n \n  const [userData, setUserData] = useState({favorites: [], workOnIt: [], points: 0, dataID: null});\n  const [modalsPosition, setModalsPosition] = useState(initialPositions);\n  const [videoData, setVideoData] = useState({title: 'Loading...', data: uploadingVid, videoID: null});  \n  const [chosenVideosData, setChosenVideosData] = useState({favorites:[], workOnIt: []});\n  const [selectSearch, setSelectSearch] = useState('');  \n  const [submitted, setSubmitted] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);  \n  const [toWorkOnIt, setToWorkOnIt] = useState(false);\n\n  const favoritesRef = useRef();\n  const workOnItRef = useRef();\n  const anotherRef = useRef();\n  const heartRef = useRef();\n  const workOnVideoRef = useRef();\n  const favVidRef = useRef();\n  const workVidRef = useRef();\n  const anotherVidRef = useRef();\n\n  useEffect(()=>{\n    if(heartRef.current && userData.favorites.includes(videoData.videoID)) {\n      heartRef.current.style.color='#7f6ea6';\n      heartRef.current.title=\"Remove like?\";}\n    else if(heartRef.current) {\n      heartRef.current.style.color='white';\n      heartRef.current.title=\"Add to favorites\";\n    }\n  },[userData.favorites,videoData.videoID]);\n  \n  useEffect(()=>{\n    if(workOnVideoRef.current && userData.workOnIt.includes(videoData.videoID)) {\n      workOnVideoRef.current.style.color='#9168a1';\n      workOnVideoRef.current.title=\"Remove icon?\";}\n    else if(workOnVideoRef.current) {\n      workOnVideoRef.current.style.color='white';\n      workOnVideoRef.current.title=\"Work on it later\"}\n  },[userData.workOnIt,videoData.videoID]);\n\n\n  const favList = () => {\n\n    return    chosenVideosData.favorites.map((vidData,i)=>\n                            <div key={Math.random()/i}>\n\n                              <div className=\"img-container\">\n                                        <video \n                                              src={vidData.data} \n                                              type=\"video/mp4\"\n                                              onPlay={()=>addPoints(2)} \n                                              onPause={()=>addPoints(2)}\n                                              controls \n                                              loop>\n                                  Your browser does not support the video tag.</video> \n                              </div>\n                              \n                              <div className=\"text\">\n                                <h5 className='fav-title'> \n                                  {vidData.title.toUpperCase()}\n                                </h5>\n                              </div>\n\n                              <div className=\"fav-delete\">\n                                <i className=\"fa fa-trash-o\" \n                                  title='Remove this video from favorites' \n                                  onClick={(e)=>{setIsLiked(!isLiked);\n                                    removeVid('favorites',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,favorites:userData.favorites.filter(id=>id!==vidData._id)},chosenVideosData,'favorites');\n                                                  }}\n                                  style={{cursor:'pointer', color: '#404756'}}></i>\n                                <i className=\"fa fa-arrow-up\" \n                                  title='Remove this video from favorites' \n                                  onClick={(e)=>{setIsLiked(!isLiked);\n                                    removeVid('favorites',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,favorites:userData.favorites.filter(id=>id!==vidData._id)},chosenVideosData,'favorites');\n                                                  }}\n                                  style={{cursor:'pointer', \tcolor: '#404756'}}></i>\n                              </div> \n\n                            </div>) ;\n  }\n\n  const workOnItList = () => {\n\n    return    chosenVideosData.workOnIt.map((vidData,i)=>\n                            <div key={Math.random()/i}>\n\n                              <div className=\"img-container\">\n                                        <video \n                                              src={vidData.data} \n                                              type=\"video/mp4\"\n                                              onPlay={()=>addPoints(2)} \n                                              onPause={()=>addPoints(2)}\n                                              controls \n                                              loop>\n                                  Your browser does not support the video tag.</video> \n                              </div>\n                              \n                              <div className=\"text\">\n                                <h5 className='fav-title'> \n                                  {vidData.title.toUpperCase()}\n                                </h5>\n                              </div>\n\n                              <div className=\"fav-delete\">\n                                <i className=\"fa fa-trash-o\" \n                                  title='Remove this video from workOnIt' \n                                  onClick={(e)=>{setIsLiked(!isLiked);\n                                    removeVid('workOnIt',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,workOnIt:userData.workOnIt.filter(id=>id!==vidData._id)},chosenVideosData,'workOnIt');\n                                                  }}\n                                  style={{cursor:'pointer', color: '#404756'}}></i>\n                                <i className=\"fa fa-arrow-up\" \n                                  title='Remove this video from workOnIt' \n                                  onClick={(e)=>{setIsLiked(!isLiked);\n                                    removeVid('workOnIt',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,workOnIt:userData.workOnIt.filter(id=>id!==vidData._id)},chosenVideosData,'workOnIt');\n                                                  }}\n                                  style={{cursor:'pointer', \tcolor: '#404756'}}></i>\n                              </div> \n\n                            </div>) ;\n  }\n\n  const addPoints = (points) => {\n\n    updateUserData({...userData, points: userData.points+points});\n    setUserData({...userData, points: userData.points+points});\n\n  }\n  \n  const removeVid = (property,videoID) => {\n        userData.points+=2;\n        const removeID = userData[property].filter(id=>id!==videoID);\n        updateUserData({...userData,[property]:removeID},property);\n        setUserData({...userData, [property]: removeID});\n  }\n  \n  const workOnVideo = () =>{\n    const property = 'workOnIt';\n    if(userData.dataID && videoData.videoID){\n      if(!toWorkOnIt){\n        userData.workOnIt.push(videoData.videoID);\n        userData.points+=2;\n        updateUserData(userData,property);\n        setUserData({...userData,[property]:[...userData[property]]});\n      } else {\n        removeVid(property,videoData.videoID);\n      }\n      \n      setToWorkOnIt(!toWorkOnIt)\n      workOnVideoRef.current.classList.add(\"shake\");\n      setTimeout(()=>{ workOnVideoRef?.current && workOnVideoRef.current.classList.remove(\"shake\");},1000);\n    }\n  }\n\n  const likeVideo = () =>{\n    const property = 'favorites';\n\n    if(userData.dataID && videoData.videoID){\n      if(!isLiked){\n        userData.favorites.push(videoData.videoID);\n        userData.points+=3;\n        updateUserData(userData,property);\n        setUserData({...userData,[property]:[...userData[property]]});\n      } else {\n        removeVid(property,videoData.videoID);\n      }\n      heartRef.current.style.top='-4500%';\n      heartRef.current.style.transform=\"rotate(1080deg)\";\n      heartRef.current.style.opacity='1';\n      setIsLiked(!isLiked);\n    }\n  }\n\n  useEffect(()=> {\n\n    let resetHeart;\n    if(heartRef.current){\n    resetHeart = setTimeout(() => {\n      heartRef.current.style.top='0';\n      heartRef.current.style.transform=\"initial\";\n    }, 1000);}\n\n    return ()=>{resetHeart && clearTimeout(resetHeart)};\n\n  },[isLiked]);\n\n  const onChangeHandler = (e) => {\n\t  \n\t  if(e.target.value) {\n\t  \n\t\t  fetch('http://localhost:5000/searchVideos', {\n\t\t\t  method: 'POST',\n\t\t\t  headers: {'Content-Type':'application/json'},\n\t\t\t  body: JSON.stringify({ input: e.target.value })\n\t\t  })\n\t\t  .then(res=>res.json())\n\t\t  .then(data=>setSelectSearch(data))\n\t\t  .catch(console.log);\n\t  \n\t  }\n\t  \n  }\n  \n  const submitHandler = (e) => {\n\te.preventDefault();\n  let input = '';\n\t\n\tswitch(e.target.tagName) {\n\t\t\n\t\tcase 'FORM': input = e.target.firstChild.firstChild.value;\n\t\t             input && setVideoData({title: 'Loading...', data: uploadingVid});\n\t  break;\n\t\t\n\t\tcase 'SELECT': e.target.previousSibling.firstChild.value = e.target.value;\n\t\treturn;\n\t\t\n\t\tcase 'I': input = e.target.parentElement.previousSibling.value;\n\t\t          input && setVideoData({title: 'Loading...', data: uploadingVid});\n\t  break;\n\t\t\n\t\tdefault: return;\n\t}\n\t\n\tfetch('http://localhost:5000/searchVideo', {\n\t\t\t  method: 'POST',\n\t\t\t  headers: {'Content-Type':'application/json'},\n\t\t\t  body: JSON.stringify({ input })\n\t\t  })\n\t\t  .then(res=>res.json())\n  .then(video=>{\n\t\t\t\tif(video){\n        setVideoData({title:video.title,data:video.data, videoID: video._id});\n        setIsLiked(userData.favorites.includes(video._id));\n        setToWorkOnIt(userData.workOnIt.includes(video._id));\n\t\t\t\tsetSubmitted(true);\n          } else {setVideoData({title:'Video not found.',data:notFound, videoID: null});}\n\t\t\t\t})\n\t\t  .catch(console.log);\n\t\n  }\n\n  useEffect(()=>{\n    favoritesRef.current.style.left = modalsPosition.favorites+'%';\n    workOnItRef.current.style.left = modalsPosition.workOnIt+'%';\n    anotherRef.current.style.left = modalsPosition.another+'%';\n\n    if(modalsPosition.favorites >= 90) {\n      favoritesRef.current.style.height = '0';\n      } else {\n        favoritesRef.current.style.height = '100vh';\n      }\n    \n    if(modalsPosition.workOnIt >= 90) {\n      workOnItRef.current.style.height = '0';\n      } else {\n        workOnItRef.current.style.height = '100vh';\n      }\n\n    if(modalsPosition.another >= 90) {\n      anotherRef.current.style.height = '0';\n      } else {\n        anotherRef.current.style.height = '100vh';\n      }\n\n  },[modalsPosition]);\n\n  useEffect(()=>{\n\n  const userDataID = decodeJWTPayload().dataID;\n\n \n    const fetchOptions = {\n        method: 'POST',\n        headers: {\n            'Content-Type':'application/json',\n            token: localStorage.getItem('W2M-JWT-Token')\n        },\n        body: JSON.stringify({dataID: userDataID})\n    }\n\n    fetch('http://localhost:5000/get-user-data', fetchOptions)\n    .then(res=>res.json())\n    .then(data=>{ \n                data.token_error || !localStorage.getItem('W2M-JWT-Token') ? \n                setLandingModal(true) :\n                data.data_error ? console.log(data) : setUserData(data)})\n    .catch(err=>console.log('fetch error',err.message));\n\n\t  \n\tfetch('http://localhost:5000/video-of-the-day')\n\t.then(res=>res.json())\n\t.then(video=>{\n\t\t\tsetVideoData({title: video.title, data: video.data, videoID: video._id});\n\t\t})\n\t\t.catch(console.log);\n\t  \n  },[]);\n\n  const resizeModal = (modal_name) => {\n\n    addPoints(2);\n\n    if( modal_name==='favorites' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=0; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='workOnIt' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=1; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='favorites' && modalsPosition[modal_name]<10 && modalsPosition.workOnIt > 10) {\n      favVidRef.current.style.opacity=0; workVidRef.current.style.opacity=0; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='favorites' && modalsPosition[modal_name]<10 && modalsPosition.workOnIt < 10) {\n        favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=0; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='workOnIt' && modalsPosition[modal_name]<10 ) {\n      favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=0; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='another' && modalsPosition[modal_name]<10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=1; anotherVidRef.current.style.opacity=0;}\n    if( modal_name==='another' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=.4; anotherVidRef.current.style.opacity=1;}\n    if(modal_name==='search'){\n      favVidRef.current.style.opacity=0; workVidRef.current.style.opacity=0; anotherVidRef.current.style.opacity=0;\n    }\n    \n    modal_name!=='another' && (modalsPosition[modal_name]>10 || modalsPosition.workOnIt<10) && \n    fetchMyVideos(setChosenVideosData,userData,chosenVideosData,modal_name);\n\n    switch(modal_name){\n\n      case 'favorites': modalsPosition.workOnIt > 10 ?\n                        setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? initialPositions : {...initialPositions, [modal_name]:expandedPositions.favorites}) :\n                        setModalsPosition({...initialPositions, [modal_name]:expandedPositions.favorites});\n      break;\n\n      case 'workOnIt': modalsPosition.another > 10 ? \n                       setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? {...initialPositions, 'favorites': expandedPositions.favorites} : {...expandedPositions, 'another':initialPositions.another}) :\n                       setModalsPosition({...expandedPositions, 'another':initialPositions.another});\n      break;\n\n      case 'another': setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? {...expandedPositions, [modal_name]:initialPositions.another} : expandedPositions);\n      break;\n\n      case 'search': setModalsPosition(initialPositions);\n      break;\n      default: return;\n    }\n  }\n\n  if(!localStorage.getItem('W2M-JWT-Token')) setLandingModal(true);\n\n  return ( \n    <div id=\"learn-container\">\n        <div id=\"first-page\">\n            <form id=\"search-container\" onSubmit={submitHandler}>\n              <div id='search-div'>\n                <input\n                onChange={onChangeHandler} \n                type='text'\n                name='search' \n                placeholder='Search sign videos here'\n                autoFocus={true} /> \n                <span id='search-btn'>\n                <i  id='search-vid-icon'\n                  className=\"fas fa-search\" \n                  onClick={submitHandler}>\n                </i>\n                </span>\n              </div>\n              {selectSearch.length>0 && <select style={{color:'black'}}  onChange={submitHandler}>\n                  <option value=''></option>\n                  {selectSearch.map((video,i)=><option key={i} style={{color:'black'}} value={video.title}>{video.title}</option>)}\n              </select>}\n            </form>\n\t\t\t\n            <div className=\"text\">\n              <h5> \n                {submitted || videoData.title==='Video not found.' ? videoData.title.toUpperCase() : 'Video of the day: '+videoData.title.toUpperCase()}\n              </h5>\n            </div>\n                  \n            <div className=\"img-container\">\n                      <video \n                            src={videoData.data} \n                            width=\"1000\" \n                            height=\"600\" \n                            type=\"video/mp4\"\n                            onPlay={()=>addPoints(2)} \n                            onPause={()=>addPoints(2)}\n                            controls \n                            autoPlay \n                            loop>\n                Your browser does not support the video tag.</video> \n            </div>\n            \n            {videoData.videoID &&\n            <div id=\"video-likes\">\n              <i className=\"fa fa-heart\" style={{position:'relative'}}>\n                <i className=\"fa fa-heart video-icon\" ref={heartRef} onClick={likeVideo}></i>\n              </i>\n              <i className='fas fa-business-time' style={{position:'relative'}}>\n                <i className='fas fa-business-time video-icon' ref={workOnVideoRef} onClick={workOnVideo}></i>\n              </i>\n            </div>}\n          \n        </div>\n        <div id=\"favorites-modal\" ref={favoritesRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px', cursor: 'pointer'}} onClick={(e)=>resizeModal('search')}>\n\t\t        {modalsPosition.workOnIt<90 && <><i className=\"fas fa-search\"></i><i className=\"fa fa-arrow-right\"></i></>}\n          </div>\n          <div className='modal-icons' onClick={(e)=>resizeModal('favorites')}>\n            {modalsPosition.favorites>10 ? \n            <i className=\"fa fa-arrow-left\"></i> : \n            modalsPosition.workOnIt>10 ? <i className=\"fa fa-arrow-right\"></i> : <span style={{marginRight: '1%'}}></span> }\n            {'    '} <i className=\"fa fa-heart\"></i>\n          </div>\n          <section className='videos-wrapper'>\n\n              <div className='videos-container' ref={favVidRef}>\n\n                {favList()}             \n\n              </div>\n\n          </section>\n        </div>\n        <div id=\"work-on-it-modal\" ref={workOnItRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px'}}></div>\n          <div onClick={(e)=>resizeModal('workOnIt')} className='modal-icons'>\n            {modalsPosition.workOnIt>10 ? <i className=\"fa fa-arrow-left\"></i> : \n            modalsPosition.another>10 ? <i className=\"fa fa-arrow-right\"></i> : < span style={{marginRight: '1%'}}></span>}\n            {'    '}<i className='fas fa-business-time'></i>\n          </div>\n          <section className='videos-wrapper'>\n\n              <div className='videos-container' ref={workVidRef}>\n\n                {workOnItList()}              \n\n              </div>\n\n          </section>\n        </div>\n        <div id=\"another-modal\" ref={anotherRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px'}}></div>\n          <div onClick={(e)=>resizeModal('another')} className='modal-icons'>\n            {modalsPosition.another>10 ? <i className=\"fa fa-arrow-left\"></i> : <i className=\"fa fa-arrow-right\"></i>}\n            {'    '}<i className=\"fa fa-play-circle-o\"></i></div>\n          <section className='videos-wrapper' style={{opacity: '0'}} ref={anotherVidRef}>\n\n              bla bla bla\n\n          </section>\n        </div>\n    </div>\n  )\n}\n\nexport default Learn;"],"mappings":"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"},"metadata":{},"sourceType":"module"}