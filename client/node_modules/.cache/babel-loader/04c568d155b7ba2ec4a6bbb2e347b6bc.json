{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/src/components/Learn/Learn.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useRef, useEffect, useContext } from 'react';\nimport MyContext from '../../context/MyContext.js';\nimport TopUsers from './TopUsers.jsx';\nimport './Learn.css';\nimport uploadingVid from '../../assets/uploading_bar.mp4';\nimport notFound from '../../assets/404pagenotfound.mp4';\nimport updateUserData from '../../helpers/updateUserData';\nimport fetchMyVideos, { fetchMyQuiz } from '../../helpers/fetchMyVideos.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Learn = () => {\n  _s();\n\n  const {\n    setLandingModal,\n    justEarnedPoints,\n    setJustEarnedPoints,\n    setPointsPopup,\n    payload\n  } = useContext(MyContext);\n  const userDataID = payload.dataID;\n  const initialPositions = {\n    favorites: 90,\n    workOnIt: 93.3,\n    quiz: 96.6\n  };\n  const expandedPositions = {\n    favorites: 0,\n    workOnIt: 3,\n    quiz: 6\n  };\n  const [userData, setUserData] = useState({\n    favorites: [],\n    workOnIt: [],\n    points: 0,\n    dataID: null\n  });\n  const [modalsPosition, setModalsPosition] = useState(initialPositions);\n  const [videoData, setVideoData] = useState({\n    title: 'Loading...',\n    data: uploadingVid,\n    videoID: null\n  });\n  const [chosenVideosData, setChosenVideosData] = useState({\n    favorites: [],\n    workOnIt: []\n  });\n  const [selectSearch, setSelectSearch] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);\n  const [toWorkOnIt, setToWorkOnIt] = useState(false);\n  const [level, setLevel] = useState({\n    level: 0,\n    levelName: 'NOVICE'\n  });\n  const [topUsersIsOpen, setTopUsersIsOpen] = useState(false);\n  const [quizVideo, setQuizVideo] = useState(null);\n  const favoritesRef = useRef();\n  const workOnItRef = useRef();\n  const quizRef = useRef();\n  const heartRef = useRef();\n  const workOnVideoRef = useRef();\n  const favVidRef = useRef();\n  const workVidRef = useRef();\n  const quizVidRef = useRef();\n  const levelBarRef = useRef();\n  const topRef = useRef();\n  const levelName = ['NOVICE', 'LEARNING NOVICE', 'BEGINNER', 'PROGRESSING BEGINNER', 'ENTERING INTERMEDIATE', 'ALMOST INTERMEDIATE', 'INTERMEDIATE', 'PROGRESSING INTERMEDIATE', 'GAINING ADVANCED', 'ADVANCED', 'EXPERT', 'MASTER', 'MAESTRO', 'THE SUPER USER', 'THE KING OF THE APP'];\n  useEffect(() => {\n    if (heartRef.current && userData.favorites.includes(videoData.videoID)) {\n      heartRef.current.style.color = '#7f6ea6';\n      heartRef.current.title = \"Remove like?\";\n    } else if (heartRef.current) {\n      heartRef.current.style.color = 'white';\n      heartRef.current.title = \"Add to favorites\";\n    }\n  }, [userData.favorites, videoData.videoID]);\n  useEffect(() => {\n    if (workOnVideoRef.current && userData.workOnIt.includes(videoData.videoID)) {\n      workOnVideoRef.current.style.color = '#9168a1';\n      workOnVideoRef.current.title = \"Remove icon?\";\n    } else if (workOnVideoRef.current) {\n      workOnVideoRef.current.style.color = 'white';\n      workOnVideoRef.current.title = \"Work on it later\";\n    }\n  }, [userData.workOnIt, videoData.videoID]);\n\n  const favList = () => {\n    return chosenVideosData.favorites.map((vidData, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-container\",\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          src: vidData.data,\n          type: \"video/mp4\",\n          onPlay: () => addPoints(level.level),\n          onPause: () => addPoints(level.level),\n          controls: true,\n          loop: true,\n          children: \"Your browser does not support the video tag.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"fav-title\",\n          children: vidData.title.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fav-delete\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-trash-o del\",\n          title: \"Remove this video from favorites\",\n          onClick: e => {\n            setIsLiked(!isLiked);\n            removeVid('favorites', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              favorites: userData.favorites.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'favorites');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-up del\",\n          title: \"Remove this video from favorites\",\n          onClick: e => {\n            setIsLiked(!isLiked);\n            removeVid('favorites', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              favorites: userData.favorites.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'favorites');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 31\n      }, this)]\n    }, 'fav_' + i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }, this));\n  };\n\n  const workOnItList = () => {\n    return chosenVideosData.workOnIt.map((vidData, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-container\",\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          src: vidData.data,\n          type: \"video/mp4\",\n          onPlay: () => addPoints(level.level),\n          onPause: () => addPoints(level.level),\n          controls: true,\n          loop: true,\n          children: \"Your browser does not support the video tag.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"fav-title\",\n          children: vidData.title.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fav-delete\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-trash-o del\",\n          title: \"Remove this video from workOnIt\",\n          onClick: e => {\n            removeVid('workOnIt', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              workOnIt: userData.workOnIt.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'workOnIt');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-up del\",\n          title: \"Remove this video from workOnIt\",\n          onClick: e => {\n            removeVid('workOnIt', vidData._id);\n            fetchMyVideos(setChosenVideosData, { ...userData,\n              workOnIt: userData.workOnIt.filter(id => id !== vidData._id)\n            }, chosenVideosData, 'workOnIt');\n          },\n          style: {\n            cursor: 'pointer',\n            color: '#404756'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 31\n      }, this)]\n    }, 'work_' + i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }, this));\n  };\n\n  function getLevel(n) {\n    //based on Fibonacci sequence\n    if (n <= 3) {\n      return {\n        level: 0,\n        levelName: 'NOVICE'\n      };\n    }\n\n    let a = 0,\n        b = 1,\n        c = 1,\n        level = -4;\n\n    while (c < n) {\n      c = a + b;\n      a = b;\n      b = c;\n      level++;\n    }\n\n    return {\n      level,\n      levelName: levelName[Math.floor(level / 5)]\n    };\n  }\n\n  ;\n\n  const addPoints = points => {\n    if (points <= 0) points = 1;\n    updateUserData({ ...userData,\n      points: userData.points + points\n    });\n    setUserData({ ...userData,\n      points: userData.points + points\n    });\n    setJustEarnedPoints(justEarnedPoints + points);\n  };\n\n  const removeVid = (property, videoID) => {\n    userData.points += 2;\n    const removeID = userData[property].filter(id => id !== videoID);\n    updateUserData({ ...userData,\n      [property]: removeID\n    }, property);\n    setUserData({ ...userData,\n      [property]: removeID\n    });\n  };\n\n  const workOnVideo = () => {\n    const property = 'workOnIt';\n\n    if (userData.dataID && videoData.videoID) {\n      if (!toWorkOnIt) {\n        userData.workOnIt.push(videoData.videoID);\n        userData.points += Math.floor(level.level * 1.5);\n        setJustEarnedPoints(justEarnedPoints + Math.floor(level.level * 1.5));\n        updateUserData(userData, property);\n        setUserData({ ...userData,\n          [property]: [...userData[property]]\n        });\n      } else {\n        removeVid(property, videoData.videoID);\n      }\n\n      setToWorkOnIt(!toWorkOnIt);\n      workOnVideoRef.current.classList.add(\"shake\");\n      setTimeout(() => {\n        (workOnVideoRef === null || workOnVideoRef === void 0 ? void 0 : workOnVideoRef.current) && workOnVideoRef.current.classList.remove(\"shake\");\n      }, 1000);\n    }\n  };\n\n  const likeVideo = () => {\n    const property = 'favorites';\n\n    if (userData.dataID && videoData.videoID) {\n      if (!isLiked) {\n        userData.favorites.push(videoData.videoID);\n        userData.points += Math.floor(level.level * 1.75);\n        setJustEarnedPoints(justEarnedPoints + Math.floor(level.level * 1.75));\n        updateUserData(userData, property);\n        setUserData({ ...userData,\n          [property]: [...userData[property]]\n        });\n      } else {\n        removeVid(property, videoData.videoID);\n      }\n\n      heartRef.current.style.top = '-4500%';\n      heartRef.current.style.transform = \"rotate(1080deg)\";\n      heartRef.current.style.opacity = '1';\n      setIsLiked(!isLiked);\n    }\n  }; //fibonacci based\n\n\n  const getFibonacciNumber = level => {\n    if (level < 2) return {\n      previous: 1,\n      next: 1\n    };\n    let a = 0,\n        b = 1,\n        c;\n\n    for (let i = 2; i <= level; i++) {\n      c = a + b;\n      a = b;\n      b = c;\n    }\n\n    return {\n      previous: a,\n      next: c\n    };\n  };\n\n  const quizAnswer = e => {\n    if (e.target.innerText === quizVideo.title) {\n      const points = level.level < 15 ? getFibonacciNumber(level.level).next : level.level < 40 ? getFibonacciNumber(level.level).previous : getFibonacciNumber(level.level).next - getFibonacciNumber(level.level).previous;\n      addPoints(points);\n\n      const earnedQuizPoints = () => {\n        return `\\n For this answer you are receiving ${points} points!`;\n      };\n\n      alert(Math.round(Math.random()) ? `Correct answer! ${earnedQuizPoints()}` : `Well done!${earnedQuizPoints()}`);\n      fetchMyQuiz(setQuizVideo, level.level);\n    } else {\n      alert(Math.round(Math.random()) ? `Try again!` : Math.round(Math.random()) ? `Better next time!` : `Almost...`);\n      fetchMyQuiz(setQuizVideo, level.level);\n    }\n\n    setQuizVideo(null);\n  };\n\n  useEffect(() => {\n    let resetHeart;\n\n    if (heartRef.current) {\n      resetHeart = setTimeout(() => {\n        heartRef.current.style.top = '0';\n        heartRef.current.style.transform = \"initial\";\n      }, 1000);\n    }\n\n    return () => {\n      resetHeart && clearTimeout(resetHeart);\n    };\n  }, [isLiked]);\n\n  const onChangeHandler = e => {\n    if (e.target.value) {\n      fetch('http://localhost:5000/searchVideos', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          input: e.target.value\n        })\n      }).then(res => res.json()).then(data => setSelectSearch(data)).catch(console.log);\n    }\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    let input = '';\n\n    switch (e.target.tagName) {\n      case 'FORM':\n        input = e.target.firstChild.firstChild.value;\n        input && setVideoData({\n          title: 'Loading...',\n          data: uploadingVid\n        });\n        break;\n\n      case 'SELECT':\n        e.target.previousSibling.firstChild.value = e.target.value;\n        return;\n\n      case 'I':\n        input = e.target.parentElement.previousSibling.value;\n        input && setVideoData({\n          title: 'Loading...',\n          data: uploadingVid\n        });\n        break;\n\n      default:\n        return;\n    }\n\n    fetch('http://localhost:5000/searchVideo', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        input\n      })\n    }).then(res => res.json()).then(video => {\n      if (video) {\n        setVideoData({\n          title: video.title,\n          data: video.data,\n          videoID: video._id\n        });\n        setIsLiked(userData.favorites.includes(video._id));\n        setToWorkOnIt(userData.workOnIt.includes(video._id));\n        setSubmitted(true);\n      } else {\n        setVideoData({\n          title: 'Video not found.',\n          data: notFound,\n          videoID: null\n        });\n      }\n    }).catch(console.log);\n  };\n\n  useEffect(() => {\n    favoritesRef.current.style.left = modalsPosition.favorites + '%';\n    workOnItRef.current.style.left = modalsPosition.workOnIt + '%';\n    quizRef.current.style.left = modalsPosition.quiz + '%';\n\n    if (modalsPosition.favorites >= 90) {\n      favoritesRef.current.style.height = '0';\n    } else {\n      favoritesRef.current.style.height = '100vh';\n    }\n\n    if (modalsPosition.workOnIt >= 90) {\n      workOnItRef.current.style.height = '0';\n    } else {\n      workOnItRef.current.style.height = '100vh';\n    }\n\n    if (modalsPosition.quiz >= 90) {\n      quizRef.current.style.height = '0';\n    } else {\n      quizRef.current.style.height = '100vh';\n    }\n  }, [modalsPosition]);\n  useEffect(() => {\n    const fetchOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        token: localStorage.getItem('W2M-JWT-Token')\n      },\n      body: JSON.stringify({\n        dataID: userDataID\n      })\n    };\n    fetch('http://localhost:5000/get-user-data', fetchOptions).then(res => res.json()).then(data => {\n      data.token_error || !localStorage.getItem('W2M-JWT-Token') ? setLandingModal(true) : data.data_error ? console.log(data) : setUserData(data);\n    }).catch(err => console.log('fetch error', err.message));\n    fetch('http://localhost:5000/video-of-the-day').then(res => res.json()).then(video => {\n      setVideoData({\n        title: video.title,\n        data: video.data,\n        videoID: video._id\n      });\n    }).catch(console.log);\n    setJustEarnedPoints(0);\n    setPointsPopup(false);\n    return () => setPointsPopup(true);\n  }, []);\n  useEffect(() => {\n    setLevel(getLevel(userData.points));\n    const neededForNextLevelPoints = getFibonacciNumber(level.level + 5).next - getFibonacciNumber(level.level + 5).previous;\n    const colectedLevelPoints = userData.points - getFibonacciNumber(level.level + 5).previous;\n    const barPercent = colectedLevelPoints / neededForNextLevelPoints * 100;\n    if (levelBarRef.current) levelBarRef.current.style.backgroundImage = `linear-gradient(90deg, #33336C ${barPercent - 3}%, #e2f1ff ${barPercent + 3}%)`;\n  }, [userData.points, level.level]);\n\n  const resizeModal = modal_name => {\n    addPoints(level.level);\n\n    if (modal_name === 'favorites' && modalsPosition[modal_name] > 10) {\n      favVidRef.current.style.opacity = 1;\n      workVidRef.current.style.opacity = 0;\n      quizVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'workOnIt' && modalsPosition[modal_name] > 10) {\n      favVidRef.current.style.opacity = .4;\n      workVidRef.current.style.opacity = 1;\n      quizVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'favorites' && modalsPosition[modal_name] < 10 && modalsPosition.workOnIt > 10) {\n      favVidRef.current.style.opacity = 0;\n      workVidRef.current.style.opacity = 0;\n      quizVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'favorites' && modalsPosition[modal_name] < 10 && modalsPosition.workOnIt < 10) {\n      favVidRef.current.style.opacity = 1;\n      workVidRef.current.style.opacity = 0;\n      quizVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'workOnIt' && modalsPosition[modal_name] < 10) {\n      favVidRef.current.style.opacity = 1;\n      workVidRef.current.style.opacity = 1;\n      quizVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'quiz' && modalsPosition[modal_name] < 10) {\n      favVidRef.current.style.opacity = .4;\n      workVidRef.current.style.opacity = 1;\n      quizVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'quiz' && modalsPosition[modal_name] > 10) {\n      favVidRef.current.style.opacity = .4;\n      workVidRef.current.style.opacity = .4;\n      quizVidRef.current.style.opacity = 1;\n    }\n\n    if (modal_name === 'search') {\n      favVidRef.current.style.opacity = 0;\n      workVidRef.current.style.opacity = 0;\n      quizVidRef.current.style.opacity = 0;\n    }\n\n    if (modal_name === 'quiz' && modalsPosition[modal_name] > 10) fetchMyQuiz(setQuizVideo, level.level);else {\n      modal_name !== 'quiz' && modal_name !== 'search' && (modalsPosition[modal_name] > 10 || modalsPosition.workOnIt < 10) && fetchMyVideos(setChosenVideosData, userData, chosenVideosData, modal_name);\n    }\n\n    switch (modal_name) {\n      case 'favorites':\n        modalsPosition.workOnIt > 10 ? setModalsPosition(prev => prev = modalsPosition[modal_name] < 10 ? initialPositions : { ...initialPositions,\n          [modal_name]: expandedPositions.favorites\n        }) : setModalsPosition({ ...initialPositions,\n          [modal_name]: expandedPositions.favorites\n        });\n        break;\n\n      case 'workOnIt':\n        modalsPosition.quiz > 10 ? setModalsPosition(prev => prev = modalsPosition[modal_name] < 10 ? { ...initialPositions,\n          'favorites': expandedPositions.favorites\n        } : { ...expandedPositions,\n          'quiz': initialPositions.quiz\n        }) : setModalsPosition({ ...expandedPositions,\n          'quiz': initialPositions.quiz\n        });\n        break;\n\n      case 'quiz':\n        setModalsPosition(prev => prev = modalsPosition[modal_name] < 10 ? { ...expandedPositions,\n          [modal_name]: initialPositions.quiz\n        } : expandedPositions);\n        break;\n\n      case 'search':\n        setModalsPosition(initialPositions);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  const resizeTopUsersModal = () => {\n    if (topRef.current) {\n      topRef.current.style.height = '80vh';\n      topRef.current.style.width = '80vw';\n      topRef.current.style.opacity = '1';\n      setTopUsersIsOpen(!topUsersIsOpen);\n    }\n  };\n\n  if (!localStorage.getItem('W2M-JWT-Token')) setLandingModal(true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"learn-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"first-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"search-container\",\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"search-div\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: onChangeHandler,\n            type: \"text\",\n            name: \"search\",\n            placeholder: \"Search sign videos here\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"search-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              id: \"search-vid-icon\",\n              className: \"fas fa-search\",\n              onClick: submitHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 15\n        }, this), selectSearch.length > 0 && /*#__PURE__*/_jsxDEV(\"select\", {\n          style: {\n            color: 'black'\n          },\n          onChange: submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 19\n          }, this), selectSearch.map((video, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n            style: {\n              color: 'black'\n            },\n            value: video.title,\n            children: video.title\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 48\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: submitted || videoData.title === 'Video not found.' ? videoData.title.toUpperCase() : 'Video of the day: ' + videoData.title.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          className: \"aside-box\",\n          children: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          src: videoData.data,\n          type: \"video/mp4\",\n          onPlay: () => addPoints(level.level > 15 ? level.level : 0),\n          onPause: () => addPoints(level.level > 15 ? level.level : 0),\n          controls: videoData.title === 'Loading...' || videoData.title === 'Video not found.' ? false : true,\n          autoPlay: true,\n          loop: true,\n          children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n            className: \"aside-box\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 21\n          }, this), \"Your browser does not support the video tag.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 13\n      }, this), videoData.videoID && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"video-likes\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-heart\",\n          style: {\n            position: 'relative'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-heart video-icon\",\n            ref: heartRef,\n            onClick: likeVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-business-time\",\n          style: {\n            position: 'relative'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-business-time video-icon\",\n            ref: workOnVideoRef,\n            onClick: workOnVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"level-container\",\n        title: \"Click to see Top Users\",\n        onClick: resizeTopUsersModal,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"level-indicator\",\n          children: [\"Level: \", level.level, \" \", level.levelName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"level-bar\",\n          ref: levelBarRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(TopUsers, {\n        topRef: topRef,\n        topUsersIsOpen: topUsersIsOpen,\n        getLevel: getLevel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"favorites-modal\",\n      ref: favoritesRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dummy-margin-top\",\n        style: {\n          height: '15px',\n          cursor: 'pointer'\n        },\n        onClick: e => resizeModal('search'),\n        children: modalsPosition.workOnIt < 90 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-arrow-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 77\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-icons\",\n        onClick: e => resizeModal('favorites'),\n        children: [modalsPosition.favorites > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this) : modalsPosition.workOnIt > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 42\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginRight: '1%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 82\n        }, this), '    ', \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-heart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"videos-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"videos-container\",\n          ref: favVidRef,\n          children: favList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"work-on-it-modal\",\n      ref: workOnItRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dummy-margin-top\",\n        style: {\n          height: '15px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => resizeModal('workOnIt'),\n        className: \"modal-icons\",\n        children: [modalsPosition.workOnIt > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 43\n        }, this) : modalsPosition.quiz > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 38\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginRight: '1%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 78\n        }, this), '    ', /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-business-time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"videos-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"videos-container\",\n          ref: workVidRef,\n          children: workOnItList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"quiz-modal\",\n      ref: quizRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dummy-margin-top\",\n        style: {\n          height: '15px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => resizeModal('quiz'),\n        className: \"modal-icons\",\n        children: [modalsPosition.quiz > 10 ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 39\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 78\n        }, this), '    ', /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-play-circle-o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"videos-wrapper\",\n        style: {\n          opacity: '0'\n        },\n        ref: quizVidRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: quizVideo ? 'Select the correct answer' : 'Loading...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"img-container\",\n          children: /*#__PURE__*/_jsxDEV(\"video\", {\n            src: quizVideo ? quizVideo.data : null,\n            type: \"video/mp4\",\n            autoPlay: true,\n            loop: true,\n            children: \"Your browser does not support the video tag.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"quiz-answers\",\n          children: quizVideo && quizVideo.randomizedTitles.map((answer, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: quizAnswer,\n            disabled: false,\n            children: answer.title\n          }, `qz_${i}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 60\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 474,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Learn, \"TtRUyQRnArvFsL8LTMtqbvDlmCE=\");\n\n_c = Learn;\nexport default Learn;\n\nvar _c;\n\n$RefreshReg$(_c, \"Learn\");","map":{"version":3,"names":["useState","useRef","useEffect","useContext","MyContext","TopUsers","uploadingVid","notFound","updateUserData","fetchMyVideos","fetchMyQuiz","Learn","setLandingModal","justEarnedPoints","setJustEarnedPoints","setPointsPopup","payload","userDataID","dataID","initialPositions","favorites","workOnIt","quiz","expandedPositions","userData","setUserData","points","modalsPosition","setModalsPosition","videoData","setVideoData","title","data","videoID","chosenVideosData","setChosenVideosData","selectSearch","setSelectSearch","submitted","setSubmitted","isLiked","setIsLiked","toWorkOnIt","setToWorkOnIt","level","setLevel","levelName","topUsersIsOpen","setTopUsersIsOpen","quizVideo","setQuizVideo","favoritesRef","workOnItRef","quizRef","heartRef","workOnVideoRef","favVidRef","workVidRef","quizVidRef","levelBarRef","topRef","current","includes","style","color","favList","map","vidData","i","addPoints","toUpperCase","e","removeVid","_id","filter","id","cursor","workOnItList","getLevel","n","a","b","c","Math","floor","property","removeID","workOnVideo","push","classList","add","setTimeout","remove","likeVideo","top","transform","opacity","getFibonacciNumber","previous","next","quizAnswer","target","innerText","earnedQuizPoints","alert","round","random","resetHeart","clearTimeout","onChangeHandler","value","fetch","method","headers","body","JSON","stringify","input","then","res","json","catch","console","log","submitHandler","preventDefault","tagName","firstChild","previousSibling","parentElement","video","left","height","fetchOptions","token","localStorage","getItem","token_error","data_error","err","message","neededForNextLevelPoints","colectedLevelPoints","barPercent","backgroundImage","resizeModal","modal_name","prev","resizeTopUsersModal","width","length","position","marginRight","randomizedTitles","answer"],"sources":["/home/user/Desktop/final-project-w2m/Wave2Me-DCI-FinalProject/client/src/components/Learn/Learn.jsx"],"sourcesContent":["import { useState, useRef, useEffect, useContext } from 'react';\nimport MyContext from '../../context/MyContext.js';\nimport TopUsers from './TopUsers.jsx';\nimport './Learn.css';\nimport uploadingVid from '../../assets/uploading_bar.mp4';\nimport notFound from '../../assets/404pagenotfound.mp4';\nimport updateUserData from '../../helpers/updateUserData';\nimport fetchMyVideos, { fetchMyQuiz } from '../../helpers/fetchMyVideos.js';\n\n\nconst Learn = () => {\n\n  const {setLandingModal,justEarnedPoints ,setJustEarnedPoints, setPointsPopup, payload} = useContext(MyContext);\n  const userDataID = payload.dataID;\n  const initialPositions = {favorites: 90, workOnIt: 93.3, quiz: 96.6};\n  const expandedPositions = {favorites: 0, workOnIt: 3, quiz: 6};\n \n  const [userData, setUserData] = useState({favorites: [], workOnIt: [], points: 0, dataID: null});\n  const [modalsPosition, setModalsPosition] = useState(initialPositions);\n  const [videoData, setVideoData] = useState({title: 'Loading...', data: uploadingVid, videoID: null});  \n  const [chosenVideosData, setChosenVideosData] = useState({favorites:[], workOnIt: []});\n  const [selectSearch, setSelectSearch] = useState('');  \n  const [submitted, setSubmitted] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);  \n  const [toWorkOnIt, setToWorkOnIt] = useState(false);\n  const [level, setLevel] = useState({level: 0, levelName: 'NOVICE'});\n  const [topUsersIsOpen, setTopUsersIsOpen] = useState(false);\n  const [quizVideo, setQuizVideo] = useState(null);\n\n  const favoritesRef = useRef();\n  const workOnItRef = useRef();\n  const quizRef = useRef();\n  const heartRef = useRef();\n  const workOnVideoRef = useRef();\n  const favVidRef = useRef();\n  const workVidRef = useRef();\n  const quizVidRef = useRef();\n  const levelBarRef = useRef();\n  const topRef = useRef();\n\n  const levelName = ['NOVICE',\n                     'LEARNING NOVICE', \n                     'BEGINNER',\n                     'PROGRESSING BEGINNER',\n                     'ENTERING INTERMEDIATE',\n                     'ALMOST INTERMEDIATE',\n                     'INTERMEDIATE',\n                     'PROGRESSING INTERMEDIATE',\n                     'GAINING ADVANCED',\n                     'ADVANCED',\n                     'EXPERT',\n                     'MASTER',\n                     'MAESTRO',\n                     'THE SUPER USER',\n                     'THE KING OF THE APP'];\n\n  useEffect(()=>{\n    if(heartRef.current && userData.favorites.includes(videoData.videoID)) {\n      heartRef.current.style.color='#7f6ea6';\n      heartRef.current.title=\"Remove like?\";}\n    else if(heartRef.current) {\n      heartRef.current.style.color='white';\n      heartRef.current.title=\"Add to favorites\";\n    }\n  },[userData.favorites,videoData.videoID]);\n  \n  useEffect(()=>{\n    if(workOnVideoRef.current && userData.workOnIt.includes(videoData.videoID)) {\n      workOnVideoRef.current.style.color='#9168a1';\n      workOnVideoRef.current.title=\"Remove icon?\";}\n    else if(workOnVideoRef.current) {\n      workOnVideoRef.current.style.color='white';\n      workOnVideoRef.current.title=\"Work on it later\"}\n  },[userData.workOnIt,videoData.videoID]);\n\n\n  const favList = () => {\n\n    return    chosenVideosData.favorites.map((vidData,i)=>\n                            <div key={'fav_'+i}>\n\n                              <div className=\"img-container\">\n                                        <video \n                                              src={vidData.data} \n                                              type=\"video/mp4\"\n                                              onPlay={()=>addPoints(level.level)} \n                                              onPause={()=>addPoints(level.level)}\n                                              controls \n                                              loop>\n                                  Your browser does not support the video tag.</video> \n                              </div>\n                              \n                              <div className=\"text\">\n                                <h5 className='fav-title'> \n                                  {vidData.title.toUpperCase()}\n                                </h5>\n                              </div>\n\n                              <div className=\"fav-delete\">\n                                <br />\n                                <i className=\"fa fa-trash-o del\" \n                                  title='Remove this video from favorites' \n                                  onClick={(e)=>{setIsLiked(!isLiked);\n                                    removeVid('favorites',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,favorites:userData.favorites.filter(id=>id!==vidData._id)},chosenVideosData,'favorites');\n                                                  }}\n                                  style={{cursor:'pointer', color: '#404756'}}></i>\n                                <i className=\"fa fa-arrow-up del\" \n                                  title='Remove this video from favorites' \n                                  onClick={(e)=>{setIsLiked(!isLiked);\n                                    removeVid('favorites',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,favorites:userData.favorites.filter(id=>id!==vidData._id)},chosenVideosData,'favorites');\n                                                  }}\n                                  style={{cursor:'pointer', \tcolor: '#404756'}}></i>\n                              </div> \n\n                            </div>) ;\n  }\n\n  const workOnItList = () => {\n\n    return    chosenVideosData.workOnIt.map((vidData,i)=>\n                            <div key={'work_'+i}>\n\n                              <div className=\"img-container\">\n                                        <video \n                                              src={vidData.data} \n                                              type=\"video/mp4\"\n                                              onPlay={()=>addPoints(level.level)} \n                                              onPause={()=>addPoints(level.level)}\n                                              controls \n                                              loop>\n                                  Your browser does not support the video tag.</video> \n                              </div>\n                              \n                              <div className=\"text\">\n                                <h5 className='fav-title'> \n                                  {vidData.title.toUpperCase()}\n                                </h5>\n                              </div>\n\n                              <div className=\"fav-delete\">\n                                <i className=\"fa fa-trash-o del\" \n                                  title='Remove this video from workOnIt' \n                                  onClick={(e)=>{\n                                    removeVid('workOnIt',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,workOnIt:userData.workOnIt.filter(id=>id!==vidData._id)},chosenVideosData,'workOnIt');\n                                                  }}\n                                  style={{cursor:'pointer', color: '#404756'}}></i>\n                                <i className=\"fa fa-arrow-up del\" \n                                  title='Remove this video from workOnIt' \n                                  onClick={(e)=>{\n                                    removeVid('workOnIt',vidData._id);\n                                    fetchMyVideos(setChosenVideosData,{...userData,workOnIt:userData.workOnIt.filter(id=>id!==vidData._id)},chosenVideosData,'workOnIt');\n                                                  }}\n                                  style={{cursor:'pointer', \tcolor: '#404756'}}></i>\n                              </div> \n\n                            </div>) ;\n  }\n\n  function getLevel (n) { //based on Fibonacci sequence\n\n    if (n <= 3) {\n      return {level:0, levelName: 'NOVICE'};\n    }\n     \n    let a = 0, b = 1, c = 1, level = -4;\n    \n    while (c < n) {\n      c = a + b;\n      a = b;\n      b = c;\n      level++;\n    }\n    \n    return {level, levelName: levelName[Math.floor(level/5)]};\n  };\n\n  const addPoints = (points) => {\n\n    if(points<=0) points=1;\n\n    updateUserData({...userData, points: userData.points+points});\n    setUserData({...userData, points: userData.points+points});\n    setJustEarnedPoints(justEarnedPoints+points);\n  }\n  \n  const removeVid = (property,videoID) => {\n        userData.points+=2;\n        const removeID = userData[property].filter(id=>id!==videoID);\n        updateUserData({...userData,[property]:removeID},property);\n        setUserData({...userData, [property]: removeID});\n  }\n  \n  const workOnVideo = () =>{\n    const property = 'workOnIt';\n    if(userData.dataID && videoData.videoID){\n      if(!toWorkOnIt){\n        userData.workOnIt.push(videoData.videoID);\n        userData.points+=Math.floor(level.level*1.5);\n        setJustEarnedPoints(justEarnedPoints+Math.floor(level.level*1.5))\n        updateUserData(userData,property);\n        setUserData({...userData,[property]:[...userData[property]]});\n      } else {\n        removeVid(property,videoData.videoID);\n      }\n      \n      setToWorkOnIt(!toWorkOnIt)\n      workOnVideoRef.current.classList.add(\"shake\");\n      setTimeout(()=>{ workOnVideoRef?.current && workOnVideoRef.current.classList.remove(\"shake\");},1000);\n    }\n  }\n\n  const likeVideo = () =>{\n    const property = 'favorites';\n\n    if(userData.dataID && videoData.videoID){\n      if(!isLiked){\n        userData.favorites.push(videoData.videoID);\n        userData.points+=Math.floor(level.level*1.75);\n        setJustEarnedPoints(justEarnedPoints+Math.floor(level.level*1.75))\n        updateUserData(userData,property);\n        setUserData({...userData,[property]:[...userData[property]]});\n      } else {\n        removeVid(property,videoData.videoID);\n      }\n      heartRef.current.style.top='-4500%';\n      heartRef.current.style.transform=\"rotate(1080deg)\";\n      heartRef.current.style.opacity='1';\n      setIsLiked(!isLiked);\n    }\n  }\n\n   //fibonacci based\n\n   const getFibonacciNumber = (level) => {\n\n    if(level<2) return {previous:1, next:1};\n          \n    let a = 0, b = 1, c;\n      \n    for(let i = 2; i <= level; i++) {\n          c = a + b;\n          a = b;\n          b = c;\n      }\n\n      return {previous: a, next: c}\n  }\n\n  const quizAnswer = (e) => {\n    \n    if(e.target.innerText===quizVideo.title) {\n      const points = level.level<15?getFibonacciNumber(level.level).next:\n                     level.level<40?getFibonacciNumber(level.level).previous:\n                     getFibonacciNumber(level.level).next-getFibonacciNumber(level.level).previous;\n      addPoints(points);\n      const earnedQuizPoints = () => {\n        return `\\n For this answer you are receiving ${points} points!`\n      }\n      alert(Math.round(Math.random())?`Correct answer! ${earnedQuizPoints()}`:`Well done!${earnedQuizPoints()}`);\n      fetchMyQuiz(setQuizVideo, level.level);\n    }\n    else {\n      alert(Math.round(Math.random())?`Try again!`:Math.round(Math.random())?`Better next time!`:`Almost...`);\n      fetchMyQuiz(setQuizVideo, level.level)}\n\n    setQuizVideo(null);\n  }\n\n  useEffect(()=> {\n\n    let resetHeart;\n    if(heartRef.current){\n    resetHeart = setTimeout(() => {\n      heartRef.current.style.top='0';\n      heartRef.current.style.transform=\"initial\";\n    }, 1000);}\n\n    return ()=>{resetHeart && clearTimeout(resetHeart)};\n\n  },[isLiked]);\n\n  const onChangeHandler = (e) => {\n\t  \n\t  if(e.target.value) {\n\t  \n\t\t  fetch('http://localhost:5000/searchVideos', {\n\t\t\t  method: 'POST',\n\t\t\t  headers: {'Content-Type':'application/json'},\n\t\t\t  body: JSON.stringify({ input: e.target.value })\n\t\t  })\n\t\t  .then(res=>res.json())\n\t\t  .then(data=>setSelectSearch(data))\n\t\t  .catch(console.log);\n\t  \n\t  }\n\t  \n  }\n  \n  const submitHandler = (e) => {\n\te.preventDefault();\n  let input = '';\n\t\n\tswitch(e.target.tagName) {\n\t\t\n\t\tcase 'FORM': input = e.target.firstChild.firstChild.value;\n\t\t             input && setVideoData({title: 'Loading...', data: uploadingVid});\n\t  break;\n\t\t\n\t\tcase 'SELECT': e.target.previousSibling.firstChild.value = e.target.value;\n\t\treturn;\n\t\t\n\t\tcase 'I': input = e.target.parentElement.previousSibling.value;\n\t\t          input && setVideoData({title: 'Loading...', data: uploadingVid});\n\t  break;\n\t\t\n\t\tdefault: return;\n\t}\n\t\n\tfetch('http://localhost:5000/searchVideo', {\n\t\t\t  method: 'POST',\n\t\t\t  headers: {'Content-Type':'application/json'},\n\t\t\t  body: JSON.stringify({ input })\n\t\t  })\n\t\t  .then(res=>res.json())\n  .then(video=>{\n\t\t\t\tif(video){\n        setVideoData({title:video.title,data:video.data, videoID: video._id});\n        setIsLiked(userData.favorites.includes(video._id));\n        setToWorkOnIt(userData.workOnIt.includes(video._id));\n\t\t\t\tsetSubmitted(true);\n          } else {setVideoData({title:'Video not found.',data:notFound, videoID: null});}\n\t\t\t\t})\n\t\t  .catch(console.log);\n\t\n  }\n\n  useEffect(()=>{\n    favoritesRef.current.style.left = modalsPosition.favorites+'%';\n    workOnItRef.current.style.left = modalsPosition.workOnIt+'%';\n    quizRef.current.style.left = modalsPosition.quiz+'%';\n\n    if(modalsPosition.favorites >= 90) {\n      favoritesRef.current.style.height = '0';\n      } else {\n        favoritesRef.current.style.height = '100vh';\n      }\n    \n    if(modalsPosition.workOnIt >= 90) {\n      workOnItRef.current.style.height = '0';\n      } else {\n        workOnItRef.current.style.height = '100vh';\n      }\n\n    if(modalsPosition.quiz >= 90) {\n      quizRef.current.style.height = '0';\n      } else {\n        quizRef.current.style.height = '100vh';\n      }\n\n  },[modalsPosition]);\n\n  useEffect(()=>{\n\n    const fetchOptions = {\n        method: 'POST',\n        headers: {\n            'Content-Type':'application/json',\n            token: localStorage.getItem('W2M-JWT-Token')\n        },\n        body: JSON.stringify({dataID: userDataID})\n    }\n\n    fetch('http://localhost:5000/get-user-data', fetchOptions)\n    .then(res=>res.json())\n    .then(data=>{ \n                data.token_error || !localStorage.getItem('W2M-JWT-Token') ? \n                setLandingModal(true) :\n                data.data_error ? console.log(data) : setUserData(data)})\n    .catch(err=>console.log('fetch error',err.message));\n\n\t  \n\tfetch('http://localhost:5000/video-of-the-day')\n\t.then(res=>res.json())\n\t.then(video=>{\n\t\t\tsetVideoData({title: video.title, data: video.data, videoID: video._id});\n\t\t})\n\t\t.catch(console.log);\n\n\n    setJustEarnedPoints(0);\n    setPointsPopup(false);\n\n\t  return ()=> setPointsPopup(true);\n\n  },[]);\n\n\n  useEffect(()=>{\n\n    setLevel(getLevel(userData.points)) ;\n\n    const neededForNextLevelPoints = getFibonacciNumber(level.level+5).next-getFibonacciNumber(level.level+5).previous; \n    const colectedLevelPoints = userData.points - getFibonacciNumber(level.level+5).previous;\n    const barPercent = (colectedLevelPoints/neededForNextLevelPoints)*100;\n\n    if(levelBarRef.current) \n    levelBarRef.current.style.backgroundImage=`linear-gradient(90deg, #33336C ${barPercent-3}%, #e2f1ff ${barPercent+3}%)`;\n\n  },[userData.points,level.level]);\n\n\n  const resizeModal = (modal_name) => {\n\n    addPoints(level.level);\n\n    if( modal_name==='favorites' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=0; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='workOnIt' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=1; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='favorites' && modalsPosition[modal_name]<10 && modalsPosition.workOnIt > 10) {\n      favVidRef.current.style.opacity=0; workVidRef.current.style.opacity=0; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='favorites' && modalsPosition[modal_name]<10 && modalsPosition.workOnIt < 10) {\n        favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=0; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='workOnIt' && modalsPosition[modal_name]<10 ) {\n      favVidRef.current.style.opacity=1; workVidRef.current.style.opacity=1; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='quiz' && modalsPosition[modal_name]<10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=1; quizVidRef.current.style.opacity=0;}\n    if( modal_name==='quiz' && modalsPosition[modal_name]>10 ) {\n      favVidRef.current.style.opacity=.4; workVidRef.current.style.opacity=.4; quizVidRef.current.style.opacity=1;}\n    if(modal_name==='search'){\n      favVidRef.current.style.opacity=0; workVidRef.current.style.opacity=0; quizVidRef.current.style.opacity=0;\n    }\n    if(modal_name==='quiz' && modalsPosition[modal_name]>10) fetchMyQuiz(setQuizVideo,level.level);\n    else{\n    modal_name!=='quiz' && modal_name!=='search'&& (modalsPosition[modal_name]>10 || modalsPosition.workOnIt<10) && \n    fetchMyVideos(setChosenVideosData,userData,chosenVideosData,modal_name); }\n\n    switch(modal_name){\n\n      case 'favorites': modalsPosition.workOnIt > 10 ?\n                        setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? initialPositions : {...initialPositions, [modal_name]:expandedPositions.favorites}) :\n                        setModalsPosition({...initialPositions, [modal_name]:expandedPositions.favorites});\n      break;\n\n      case 'workOnIt': modalsPosition.quiz > 10 ? \n                       setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? {...initialPositions, 'favorites': expandedPositions.favorites} : {...expandedPositions, 'quiz':initialPositions.quiz}) :\n                       setModalsPosition({...expandedPositions, 'quiz':initialPositions.quiz});\n      break;\n\n      case 'quiz': setModalsPosition(prev => prev = modalsPosition[modal_name] < 10? {...expandedPositions, [modal_name]:initialPositions.quiz} : expandedPositions);\n      break;\n\n      case 'search': setModalsPosition(initialPositions);\n      break;\n      default: return;\n    }\n  }\n\n  const resizeTopUsersModal = () => {\n    if(topRef.current) {\n        topRef.current.style.height = '80vh';\n        topRef.current.style.width = '80vw';\n        topRef.current.style.opacity = '1';\n        setTopUsersIsOpen(!topUsersIsOpen);\n    } \n}\n\n  if(!localStorage.getItem('W2M-JWT-Token')) setLandingModal(true);\n\n  return (\n    <div id=\"learn-container\">\n        <div id=\"first-page\">\n            <form id=\"search-container\" onSubmit={submitHandler}>\n              <div id='search-div'>\n                <input\n                onChange={onChangeHandler} \n                type='text'\n                name='search' \n                placeholder='Search sign videos here'\n                autoFocus={true} /> \n                <span id='search-btn'>\n                <i  id='search-vid-icon'\n                  className=\"fas fa-search\" \n                  onClick={submitHandler}>\n                </i>\n                </span>\n              </div>\n              {selectSearch.length>0 && <select style={{color:'black'}}  onChange={submitHandler}>\n                  <option value=''></option>\n                  {selectSearch.map((video,i)=><option key={i} style={{color:'black'}} value={video.title}>{video.title}</option>)}\n              </select>}\n            </form>\n\t\t\t\n            <div className=\"text\">\n              <h2> \n                {submitted || videoData.title==='Video not found.' ? videoData.title.toUpperCase() : 'Video of the day: ' +videoData.title.toUpperCase()}\n              </h2>\n            </div>\n                  \n            <div className=\"img-container\">\n                    <aside className='aside-box'>2</aside>\n                      <video \n                            src={videoData.data} \n                            type=\"video/mp4\"\n                            onPlay={()=>addPoints(level.level>15?level.level:0)} \n                            onPause={()=>addPoints(level.level>15?level.level:0)}\n                            controls={videoData.title==='Loading...' || videoData.title==='Video not found.'?false:true}\n                            autoPlay \n                            loop>\n                    <aside className='aside-box'>2</aside>\n                Your browser does not support the video tag.</video> \n            </div>\n            \n            {videoData.videoID &&\n            <div id=\"video-likes\">\n              <i className=\"fa fa-heart\" style={{position:'relative'}}>\n                <i className=\"fa fa-heart video-icon\" ref={heartRef} onClick={likeVideo}></i>\n              </i>\n              <i className='fas fa-business-time' style={{position:'relative'}}>\n                <i className='fas fa-business-time video-icon' ref={workOnVideoRef} onClick={workOnVideo}></i>\n              </i>\n            </div>}\n            <div id='level-container' title='Click to see Top Users' onClick={resizeTopUsersModal}>\n                <div id='level-indicator'>Level: {level.level} {level.levelName}</div>\n                <div id='level-bar' ref={levelBarRef}></div>\n            </div>\n          \n            <TopUsers topRef={topRef} topUsersIsOpen={topUsersIsOpen} getLevel={getLevel}/>\n\n        </div>\n        <div id=\"favorites-modal\" ref={favoritesRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px', cursor: 'pointer'}} onClick={(e)=>resizeModal('search')}>\n\t\t        {modalsPosition.workOnIt<90 && <><i className=\"fas fa-search\"></i><i className=\"fa fa-arrow-right\"></i></>}\n          </div>\n          <div className='modal-icons' onClick={(e)=>resizeModal('favorites')}>\n            {modalsPosition.favorites>10 ? \n            <i className=\"fa fa-arrow-left\"></i> : \n            modalsPosition.workOnIt>10 ? <i className=\"fa fa-arrow-right\"></i> : <span style={{marginRight: '1%'}}></span> }\n            {'    '} <i className=\"fa fa-heart\"></i>\n          </div>\n          <section className='videos-wrapper'>\n\n              <div className='videos-container' ref={favVidRef}>\n\n                {favList()}             \n\n              </div>\n\n          </section>\n        </div>\n        <div id=\"work-on-it-modal\" ref={workOnItRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px'}}></div>\n          <div onClick={(e)=>resizeModal('workOnIt')} className='modal-icons'>\n            {modalsPosition.workOnIt>10 ? <i className=\"fa fa-arrow-left\"></i> : \n            modalsPosition.quiz>10 ? <i className=\"fa fa-arrow-right\"></i> : < span style={{marginRight: '1%'}}></span>}\n            {'    '}<i className='fas fa-business-time'></i>\n          </div>\n          <section className='videos-wrapper'>\n\n              <div className='videos-container' ref={workVidRef}>\n\n                {workOnItList()}              \n\n              </div>\n\n          </section>\n        </div>\n        <div id=\"quiz-modal\" ref={quizRef}>\n          <div className=\"dummy-margin-top\" style={{height: '15px'}}></div>\n          <div onClick={(e)=>resizeModal('quiz')} className='modal-icons'>\n            {modalsPosition.quiz>10 ? <i className=\"fa fa-arrow-left\"></i> : <i className=\"fa fa-arrow-right\"></i>}\n            {'    '}<i className=\"fa fa-play-circle-o\"></i></div>\n          <section className='videos-wrapper' style={{opacity: '0'}} ref={quizVidRef}>\n\n          <div className=\"text\">\n              <h2> \n                {quizVideo?'Select the correct answer':'Loading...'}\n              </h2>\n            </div>\n                  \n            <div className=\"img-container\">\n                      <video \n                            src={quizVideo ? quizVideo.data : null} \n                            type=\"video/mp4\"\n                            autoPlay \n                            loop>\n                Your browser does not support the video tag.</video> \n            </div>\n            <div id='quiz-answers'>\n              {quizVideo && \n                quizVideo.randomizedTitles.map((answer,i)=><button \n                                                            key={`qz_${i}`} \n                                                            onClick={quizAnswer}\n                                                            disabled={false}>{answer.title}</button>)}\n            </div>\n              \n          </section>\n        </div>\n    </div>\n     )\n}\n\nexport default Learn;"],"mappings":"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"},"metadata":{},"sourceType":"module"}